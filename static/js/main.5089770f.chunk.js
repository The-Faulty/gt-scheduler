(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{229:function(e,t,n){},230:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(43),s=n.n(a),i=n(347),o=n(188),l=n(21),u=n.n(l),d=n(7),j=n(48),b=n(30),f=n(79),h=n(14),m=n(5),v=n(174),p=n(175),O=n(176),x=n.n(O),g=n(177),y=480,w=["M","T","W","R","F"],C=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],N={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},S={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},k="https://gt-scheduler.azurewebsites.net",D=1024,T=n(63),E=n(26),A=n(27),M=n(97),I=n(98),F=n(107),_=n(189),V=n(42),L=n(100),R=n.n(L),P=["type"],B=function(e){Object(I.a)(n,e);var t=Object(F.a)(n);function n(e){var r,c=e.message,a=e.source,s=e.fields,i=void 0===s?{}:s;Object(E.a)(this,n),(r=t.call(this)).fields=void 0,r.topMessage=void 0,r.source=void 0,r.fields=i,r.topMessage=c,a instanceof Error?(r.source=a,r.message="".concat(c,": ").concat(a.message),null!=a.stack&&(r.stack=a.stack)):(r.source=null,r.message=c,null!==r.source&&(r.fields.__non_error_source="true",r.fields.__source=R()(a)));var o=r.getRootError();return o===Object(M.a)(r)||o instanceof n?r.name="ErrorWithFields":r.name="ErrorWithFields(".concat(o.name,")"),r}return Object(A.a)(n,[{key:"logToConsole",value:function(){console.group(this.topMessage),console.error(this.getRootError());var e=this.getAllFields();Object.keys(e).length>0&&console.info(e),console.groupEnd()}},{key:"getAllFields",value:function(){return this.source instanceof n?Object(d.a)(Object(d.a)({},this.source.getAllFields()),this.fields):this.fields}},{key:"getRootError",value:function(){return null===this.source?this:this.source instanceof n?this.source.getRootError():this.source}}]),n}(Object(_.a)(Error));function W(e){e.logToConsole();var t=e.getAllFields();if(Object.keys(t).includes("type")){var n=t,r=n.type,c=Object(T.a)(n,P);t=Object(d.a)({__do_not_use_type_in_sentry_it_is_special:r},c)}V.a(e.getRootError(),{contexts:{fields:t,error:{message:e.message}},fingerprint:[e.message]})}var z=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",r=[],c=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(n),a="".concat(n,"END:VCALENDAR"),s=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return c+n+r.join(n)+a},addEvent:function(t,c,a,i,o,l){if("undefined"===typeof t||"undefined"===typeof c||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof o)return!1;if(l&&!l.rrule){if("YEARLY"!==l.freq&&"MONTHLY"!==l.freq&&"WEEKLY"!==l.freq&&"DAILY"!==l.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(l.until&&Number.isNaN(Date.parse(l.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(l.interval&&Number.isNaN(parseInt(l.interval,10)))throw new Error("Recurrence rrule 'interval' must be an integer");if(l.count&&Number.isNaN(parseInt(l.count,10)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof l.byday){if("[object Array]"!==Object.prototype.toString.call(l.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(l.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");for(var u in l.byday=l.byday.filter((function(e,t){return l.byday.indexOf(e)===t})),l.byday)if(s.indexOf(l.byday[u])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}var d=new Date(i),j=new Date(o),b=new Date,f="0000".concat(d.getFullYear().toString()).slice(-4),h="00".concat((d.getMonth()+1).toString()).slice(-2),m="00".concat(d.getDate().toString()).slice(-2),v="00".concat(d.getHours().toString()).slice(-2),p="00".concat(d.getMinutes().toString()).slice(-2),O="00".concat(d.getSeconds().toString()).slice(-2),x="0000".concat(j.getFullYear().toString()).slice(-4),g="00".concat((j.getMonth()+1).toString()).slice(-2),y="00".concat(j.getDate().toString()).slice(-2),w="00".concat(j.getHours().toString()).slice(-2),C="00".concat(j.getMinutes().toString()).slice(-2),N="00".concat(j.getSeconds().toString()).slice(-2),S="0000".concat(b.getFullYear().toString()).slice(-4),k="00".concat((b.getMonth()+1).toString()).slice(-2),D="00".concat(b.getDate().toString()).slice(-2),T="00".concat(b.getHours().toString()).slice(-2),E="00".concat(b.getMinutes().toString()).slice(-2),A="00".concat(b.getSeconds().toString()).slice(-2),M="",I="";v+p+O+w+C+N!==0&&(M="T".concat(v).concat(p).concat(O),I="T".concat(w).concat(C).concat(N));var F,_=f+h+m+M,V=x+g+y+I,L=S+k+D+"T".concat(T).concat(E).concat(A);if(l)if(l.rrule)F=l.rrule;else{if(F="RRULE:FREQ=".concat(l.freq),l.until){var R=new Date(Date.parse(l.until)).toISOString();F+=";UNTIL=".concat(R.substring(0,R.length-13).replace(/[-]/g,""),"000000Z")}l.interval&&(F+=";INTERVAL=".concat(l.interval)),l.count&&(F+=";COUNT=".concat(l.count)),l.byday&&l.byday.length>0&&(F+=";BYDAY=".concat(l.byday.join(",")))}var P=["BEGIN:VEVENT","UID:".concat(r.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(c),"DTSTAMP;VALUE=DATE-TIME:".concat(L),"DTSTART;VALUE=DATE-TIME:".concat(_),"DTEND;VALUE=DATE-TIME:".concat(V),"LOCATION:".concat(a),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return F&&P.splice(4,0,F),P=P.join(n),r.push(P),P},download:function(e,t){if(r.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var s,i=c+n+r.join(n)+a;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([i]);else{var o=new BlobBuilder;o.append(i),s=o.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(s,e+t),i},build:function(){return!(r.length<1)&&c+n+r.join(n)+a}}}console.log("Unsupported Browser")},G=n(0),q=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e);if(null===t)return 0;var n=t,r=Object(m.a)(n,4),c=r[1],a=r[2];return 60*(("p"===r[3]?12:0)+ +c%12)+ +a},H=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,r=e%60,c=n>12?n-12:n,a="".concat(r).padStart(2,"0"),s="".concat(n<12?"a":"p","m");return t?"".concat(c,":").concat(a," ").concat(s):"".concat(c,":").concat(a)},U=function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")},Y=function(e){return null!=e?"".concat(H(e.start,!1)," - ").concat(H(e.end)):"TBA"},J=function(){var e,t=C.flat();return null!==(e=t[Math.random()*t.length|0])&&void 0!==e?e:"#333333"},K=function(e){return null==e||.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content"},Q=function(e,t){return e.meetings.some((function(e){return t.meetings.some((function(t){return e.period&&t.period&&w.some((function(n){return e.days.includes(n)&&t.days.includes(n)}))&&e.period.start<t.period.end&&t.period.start<e.period.end}))}))},X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},Z=function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")};function $(e){return Array.from(new Set(e))}var ee=function(e){return["Lab","Studio"].some((function(t){return e.scheduleType.includes(t)}))},te=function(e){return e.scheduleType.includes("Lecture")};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";if(0===e.length)return null;if(1===e.length)return String(e[0]);if(2===e.length)return Object(G.jsxs)(G.Fragment,{children:[String(e[0])," ",t," ",String(e[1])]});var n=Object(h.a)(e),r=n.pop();return Object(G.jsxs)(G.Fragment,{children:["".concat(n.join(", "),",").trim()," ",t," ",String(r)]})}var re=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=function(e){return Array.isArray(t)&&e===t.length-2},a="";if(Array.isArray(t)){if("and"===t[0]){var s=Object(f.a)(t),i=s.slice(1);i.forEach((function(t,n){a+=e(t,0===n,c(n))+(c(n)?"":" and ")}))}else if("or"===t[0]){var o=Object(f.a)(t),l=o.slice(1);l.forEach((function(t,n){a+=e(t)+(c(n)?"":" or ")}))}}else a+=(n?"(":"")+t.id+(r?")":"");return a},ce=function(e){return e instanceof Error&&e.message.includes("Network Error")};function ae(e){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,Object(v.DelayFactory)(Object(p.getSanitizedOptions)(Object(d.a)({jitter:"full",numOfAttempts:Number.MAX_SAFE_INTEGER},n)),t).apply();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.amount_ms,e.next=3,new Promise((function(e){return setTimeout((function(){return e(void 0)}),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=["Secondary","Tertiary","Quaternary","Quinary","Senary","Septenary","Octonary","Nonary","Denary"];function ue(e,t){return e===t?0:e>t?1:-1}var de=n(51),je=n.n(de),be=n(19),fe=n(9);n(229);function he(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,c=e.href,a=e.onClick,s=e.children;return r?Object(G.jsx)("div",{className:X("Button","disabled",t),children:s}):null!=c?Object(G.jsx)("a",{className:X("Button",t),href:c,rel:"noopener noreferrer",target:"_blank",children:s}):Object(G.jsx)("div",{className:X("Button",t),onClick:a,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&null!=a&&a(e)},role:"button",children:s})}n(230);var me=["className","label","children","actions"],ve=["icon","styling","dataTip","dataFor","onMouseEnter","onMouseLeave"];function pe(e){var t=e.className,n=e.label,c=e.children,a=e.actions,s=Object(T.a)(e,me);return Object(G.jsxs)("div",Object(d.a)(Object(d.a)({className:X("ActionRow",t)},s),{},{children:[Object(G.jsxs)("div",{className:"action-row-header",children:[Object(G.jsx)("div",{className:"label",children:n}),Object(G.jsx)("div",{className:X("actions","default"),children:a.flatMap((function(e){return null!=e?[e]:[]})).map((function(e,t){var n=e.icon,c=e.styling,a=e.dataTip,s=e.dataFor,i=e.onMouseEnter,o=e.onMouseLeave,l=Object(T.a)(e,ve);return Object(r.createElement)(he,Object(d.a)(Object(d.a)({className:"action"},l),{},{key:t}),Object(G.jsx)(be.a,{fixedWidth:!0,style:c,icon:n,"data-tip":a,"data-for":s,onMouseEnter:i,onMouseLeave:o}))}))})]}),c]}))}var Oe=c.a.createContext(["light",function(e){throw new B({message:"empty ThemeContext.setTheme value being used",fields:{next:e}})}]),xe=c.a.createContext([]),ge="course-gpa-cache-2",ye=function(){function e(t,n,r){var c=this;Object(E.a)(this,e),this.id=void 0,this.subject=void 0,this.number=void 0,this.title=void 0,this.sections=void 0,this.prereqs=void 0,this.hasLab=void 0,this.onlyLectures=void 0,this.onlyLabs=void 0,this.allInOnes=void 0,this.sectionGroups=void 0,this.term=void 0,this.term=t.term;var a=Object(m.a)(r,3),s=a[0],i=a[1],o=a[2];this.id=n;var l=this.id.split(" "),u=Object(m.a)(l,2),d=u[0],b=u[1];if(null==d||null==b)throw new B({message:"course ID could not be parsed",fields:{id:this.id,subject:d,number:b,term:this.term}});this.subject=d,this.number=b,this.title=s,this.sections=Object.entries(i).flatMap((function(e){var r=Object(m.a)(e,2),a=r[0],s=r[1];if(null==s)return[];try{return[new Ne(t,c,a,s)]}catch(i){return W(new B({message:"could not construct Section bean",source:i,fields:{courseId:n,term:c.term}})),[]}})),this.prereqs=o;var f=this.sections.filter((function(e){return te(e)&&!ee(e)})),h=this.sections.filter((function(e){return ee(e)&&!te(e)}));this.hasLab=!!f.length&&!!h.length,this.hasLab?function(){var e,t=function(e,t){return t.id.startsWith(e.id)||e.id.startsWith(t.id)},n=function(e,t){return e.instructors.filter((function(e){return t.instructors.includes(e)})).length>0},r=Object(j.a)(f);try{var a=function(){var r=e.value;r.associatedLabs=h.filter((function(e){return t(e,r)})),r.associatedLabs.length||(r.associatedLabs=h.filter((function(e){return n(e,r)})))};for(r.s();!(e=r.n()).done;)a()}catch(x){r.e(x)}finally{r.f()}var s,i=Object(j.a)(h);try{var o=function(){var e=s.value;e.associatedLectures=f.filter((function(n){return t(e,n)})),e.associatedLectures.length||(e.associatedLectures=f.filter((function(t){return n(e,t)})))};for(i.s();!(s=i.n()).done;)o()}catch(x){i.e(x)}finally{i.f()}var l,u=f.filter((function(e){return!e.associatedLabs.length})),d=h.filter((function(e){return!e.associatedLectures.length})),b=Object(j.a)(u);try{var m=function(){var e=l.value;e.associatedLabs=d.filter((function(t){return!Q(e,t)}))};for(b.s();!(l=b.n()).done;)m()}catch(x){b.e(x)}finally{b.f()}var v,p=Object(j.a)(d);try{var O=function(){var e=v.value;e.associatedLectures=u.filter((function(t){return!Q(t,e)}))};for(p.s();!(v=p.n()).done;)O()}catch(x){p.e(x)}finally{p.f()}c.onlyLectures=f,c.onlyLabs=h,c.allInOnes=c.sections.filter((function(e){return te(e)&&ee(e)}))}():this.sectionGroups=this.distinct(this.sections)}return Object(A.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach((function(e){var n=e.meetings.map((function(e){return{days:e.days,period:e.period}})),r=JSON.stringify(n),c=t[r];c?c.sections.push(e):t[r]={hash:r,meetings:n,sections:[e]}})),t}},{key:"fetchGpa",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,c,a,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==(t=window.localStorage.getItem(ge))){e.next=9;break}if(n=JSON.parse(t),null==(r=n[this.id])){e.next=9;break}if(!((new Date).toISOString()<r.exp)){e.next=9;break}return e.abrupt("return",r.d);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.next=15,this.fetchGpaInner();case 15:if(null!==(c=e.sent)){e.next=18;break}return e.abrupt("return",{});case 18:(a=new Date).setDate(a.getDate()+7);try{s={},null!=(i=window.localStorage.getItem(ge))&&(s=JSON.parse(i)),s[this.id]={d:c,exp:a.toISOString()},o=JSON.stringify(s),window.localStorage.setItem(ge,o)}catch(l){}return e.abrupt("return",c);case 22:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchGpaInner",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.subject," ").concat(this.number.replace(/\D/g,"")),n=encodeURIComponent(t),r="".concat("https://us-central1-gt-scheduler-web-prod.cloudfunctions.net/getCourseDataFromCourseCritique","?courseID=").concat(n),e.prev=3,e.next=6,je.a.get(r);case 6:c=e.sent.data,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),ce(e.t0)||W(new B({message:"error fetching course details from Course Critique API",source:e.t0,fields:{baseId:this.id,cleanedId:t,url:r}})),e.abrupt("return",null);case 13:return e.abrupt("return",this.decodeCourseCritiqueResponse(c));case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"decodeCourseCritiqueResponse",value:function(e){try{var t={count:0,sum:0},n=new Map;e.raw.forEach((function(e){var r,c=e.class_size_group,a=e.instructor_name,s=e.GPA;if("string"===typeof c&&"string"===typeof a&&"number"===typeof s){var i;switch(c.toLowerCase()){case"very small (fewer than 10 students)":i=5;break;case"small (10-20 students)":i=15;break;case"mid-size (21-30 students)":i=25;break;case"large (31-49 students)":i=40;break;case"very large (50 students or more)":i=50;break;default:return}var o=a,l=o.split(", ");if(2===l.length){var u=l,d=Object(m.a)(u,2),j=d[0],b=d[1];o="".concat(b," ").concat(j)}t.count+=i,t.sum+=s*i;var f=null!==(r=n.get(o))&&void 0!==r?r:{count:0,sum:0};f.count+=i,f.sum+=s*i,n.set(o,f)}}));var r={};return t.count>0&&(r.averageGpa=t.sum/t.count),n.forEach((function(e,t){e.count>0&&(r[t]=e.sum/e.count)})),r}catch(c){return W(new B({message:"error extracting course GPA from Course Critique API response",source:c,fields:{id:this.id}})),null}}}]),e}(),we=n(178),Ce=n.n(we),Ne=function(){function e(t,n,r,c){var a,s,i;Object(E.a)(this,e),this.course=void 0,this.id=void 0,this.crn=void 0,this.seating=void 0,this.credits=void 0,this.scheduleType=void 0,this.campus=void 0,this.deliveryMode=void 0,this.gradeBasis=void 0,this.meetings=void 0,this.instructors=void 0,this.associatedLabs=void 0,this.associatedLectures=void 0,this.term=void 0,this.term=t.term;var o=Object(m.a)(c,7),l=o[0],u=o[1],d=o[2],j=o[3],b=o[4],f=o[5],v=o[6];this.course=n,this.id=r,this.crn=l,this.seating=[[],0],this.credits=d,this.scheduleType=null!==(a=t.scheduleTypes[j])&&void 0!==a?a:"unknown",this.campus=null!==(s=t.campuses[b])&&void 0!==s?s:"unknown";var p=f.map((function(e){return t.attributes[e]})).flatMap((function(e){return null==e?[]:[e]}));this.deliveryMode=p.find((function(e){return e in N})),this.gradeBasis=null!==(i=t.gradeBases[v])&&void 0!==i?i:"unknown",this.meetings=u.map((function(e){var n,r,c,a,s=Object(m.a)(e,8),i=s[0],o=s[1],l=s[2],u=s[3],d=s[4],j=s[5],b=s[6],f=s[7];return{period:t.periods[i],days:"&nbsp;"===o?[]:o.split(""),where:l,location:null!==(n=t.locations[u])&&void 0!==n?n:null,instructors:d.map((function(e){return e.replace(/ \(P\)$/,"").trim()})),dateRange:null!==(r=t.dateRanges[j])&&void 0!==r?r:{from:new Date,to:new Date},finalDate:-1===b||t.version<3?null:null!==(c=t.finalDates[b])&&void 0!==c?c:null,finalTime:-1===f||t.version<3?null:null!==(a=t.finalTimes[f])&&void 0!==a?a:null}})),this.instructors=$(this.meetings.map((function(e){return e.instructors})).reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))}),[])),this.associatedLabs=[],this.associatedLectures=[]}return Object(A.a)(e,[{key:"fetchSeating",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,c,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.seating[1],!((r=Date.now())-n>3e5)){e.next=5;break}return c="".concat(k,"/proxy/class_section?term=").concat(t,"&crn=").concat(this.crn),e.abrupt("return",je()({url:c,method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then((function(e){var t=Ce.a.load(e.data)(".datadisplaytable .datadisplaytable").find("tr");return a.seating=[[parseInt(t.eq(1).children("td").first().text(),10),parseInt(t.eq(1).children("td").eq(1).text(),10),parseInt(t.eq(2).children("td").first().text(),10),parseInt(t.eq(2).children("td").eq(1).text(),10)],r],a.seating})).catch((function(){return[new Array(4).fill("N/A"),r]})));case 5:return e.abrupt("return",this.seating);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Se=function e(t,n){Object(E.a)(this,e),this.label=void 0,this.calculateFactor=void 0,this.label=t,this.calculateFactor=n},ke=function(){function e(t,n){var r,c=this;Object(E.a)(this,e),this.term=n,this.periods=void 0,this.dateRanges=void 0,this.finalDates=void 0,this.finalTimes=void 0,this.scheduleTypes=void 0,this.campuses=void 0,this.attributes=void 0,this.gradeBases=void 0,this.locations=void 0,this.updatedAt=void 0,this.version=void 0,this.courses=void 0,this.courseMap=void 0,this.crnMap=void 0,this.sortingOptions=void 0;var a=t.courses,s=t.caches,i=t.updatedAt,o=t.version;this.periods=s.periods.map((function(e,t){if("TBA"!==e){var n=e.split(" - ");if(2===n.length){var r=n,a=Object(m.a)(r,2),s=a[0],i=a[1];return{start:q(s),end:q(i)}}W(new B({message:"period did not follow expected format",fields:{period:e,cacheIndex:t,term:c.term}}))}})),this.finalTimes=void 0===s.finalTimes?[]:s.finalTimes.map((function(e,t){var n=e.split(" - ");if(2!==n.length)return W(new B({message:"finalTime did not follow expected format",fields:{finalTime:e,cacheIndex:t,term:c.term}})),null;var r=n,a=Object(m.a)(r,2),s=a[0],i=a[1];return{start:q(s),end:q(i)}})),this.dateRanges=s.dateRanges.map((function(e,t){var n=e.split(" - ");2!==n.length&&(W(new B({message:"date range did not follow expected format",fields:{dateRange:e,cacheIndex:t,term:c.term}})),n=["Jan 1, 1970","Jan 2, 1970"]);var r=n.map((function(e){return new Date(e)})),a=Object(m.a)(r,2),s=a[0],i=a[1];return s.setHours(0),i.setHours(23,59,59,999),{from:s,to:i}})),this.finalDates=void 0===s.finalDates?[]:null===(r=s.finalDates)||void 0===r?void 0:r.map((function(e){return new Date(e)})),this.scheduleTypes=s.scheduleTypes,this.campuses=s.campuses,this.attributes=s.attributes,this.gradeBases=s.gradeBases,this.locations=s.locations,this.updatedAt=new Date(i),this.version=o,this.courses=Object.entries(a).flatMap((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];try{return[new ye(c,n,r)]}catch(a){return W(new B({message:"could not initialize Course bean",fields:{courseId:n,source:r,term:c.term}})),[]}})),this.courseMap={},this.crnMap={},this.courses.forEach((function(e){c.courseMap[e.id]=e,e.sections.forEach((function(e){c.crnMap[e.crn]=e}))})),this.sortingOptions=[new Se("Most Compact",(function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map((function(e){var r=n[e],c=t[e];return null==r||null==c?0:r-c})).reduce((function(e,t){return e+t}),0)})),new Se("Earliest Ending",(function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)})),new Se("Latest Beginning",(function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)}))]}return Object(A.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"getCombinations",value:function(e,t,n){var r=this,c=[];return function a(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s!==e.length){var o=e[s];if(void 0!==o){var l=r.findCourse(o);if(void 0!==l){var u=function(e){return!n.includes(e.crn)},d=function(e){return t.includes(e.crn)},j=function(e){return[].concat(Object(h.a)(t),Object(h.a)(i)).some((function(t){var n=r.findSection(t);return void 0!==n&&Q(n,e)}))};if(l.hasLab){var b,f,m,v=(null!==(b=l.onlyLectures)&&void 0!==b?b:[]).find(d),p=(null!==(f=l.onlyLabs)&&void 0!==f?f:[]).find(d),O=(null!==(m=l.allInOnes)&&void 0!==m?m:[]).find(d);if(v&&p||O)a(s+1,i);else if(v)v.associatedLabs.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else if(p)p.associatedLectures.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else{var x,g;(null!==(x=l.onlyLectures)&&void 0!==x?x:[]).filter(u).forEach((function(e){j(e)||e.associatedLabs.filter(u).forEach((function(t){j(t)||a(s+1,[].concat(Object(h.a)(i),[e.crn,t.crn]))}))})),(null!==(g=l.allInOnes)&&void 0!==g?g:[]).filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}))}}else if(l.sections.some(d))a(s+1,i);else{var y;Object.values(null!==(y=l.sectionGroups)&&void 0!==y?y:{}).forEach((function(e){if(null!=e){var t=e.sections.find(u);t&&!j(t)&&a(s+1,[].concat(Object(h.a)(i),[t.crn]))}}))}}}}else c.push(i)}(),c.map((function(e){var n={},c={};return r.iterateTimeBlocks([].concat(Object(h.a)(t),Object(h.a)(e)),(function(e,t){if(void 0!==t){var r=c[e],a=n[e];(null==a||a>t.start)&&(n[e]=t.start),(null==r||r<t.end)&&(c[e]=t.end)}})),{crns:e,startMap:n,endMap:c}}))}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];if(void 0===n)throw new B({message:"sorting option index was out of bounds",fields:{sortingOptionIndex:t,actualSortingOptionsLength:this.sortingOptions.length,term:this.term}});return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{factor:n.calculateFactor(e)})})).sort((function(e,t){return e.factor-t.factor}))}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach((function(e){var r=n.findSection(e);void 0!==r&&r.meetings.forEach((function(e){return e.period&&e.days.forEach((function(n){t(n,e.period)}))}))}))}}]),e}(),De=new ke({courses:{},caches:{periods:[],dateRanges:[],scheduleTypes:[],campuses:[],attributes:[],gradeBases:[],locations:[],finalDates:[],finalTimes:[]},updatedAt:JSON.parse(JSON.stringify(new Date)),version:1},"197008"),Te={terms:{},version:2},Ee={versions:{}},Ae={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0},Me=function(){return"sv_".concat(function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}(20))},Ie=c.a.createContext([Object(d.a)({term:"",currentVersion:"",allVersionNames:[],oscar:De},Ae),{setTerm:function(e){throw new B({message:"empty ScheduleContext.setTerm value being used",fields:{next:e}})},patchSchedule:function(e){throw new B({message:"empty ScheduleContext.patchSchedule value being used",fields:{patch:e}})},updateSchedule:function(){throw new B({message:"empty ScheduleContext.updateSchedule value being used"})},setCurrentVersion:function(e){throw new B({message:"empty ScheduleContext.setCurrentVersion value being used",fields:{next:e}})},addNewVersion:function(e,t){throw new B({message:"empty ScheduleContext.addNewVersion value being used",fields:{name:e,select:t}})},deleteVersion:function(e){throw new B({message:"empty ScheduleContext.deleteVersion value being used",fields:{id:e}})},renameVersion:function(e,t){throw new B({message:"empty ScheduleContext.renameVersion value being used",fields:{id:e,newName:t}})},cloneVersion:function(e,t){throw new B({message:"empty ScheduleContext.cloneVersion value being used",fields:{id:e,newName:t}})}}]),Fe=c.a.createContext([[],function(e){throw new B({message:"empty OverlayCrnsContext.setOverlayCrns value being used",fields:{next:e}})}]),_e=n(67);n(282);function Ve(e){return[e.start,e.end].join("-")}function Le(e){var t=e.className,n=e.crn,c=e.overlay,a=void 0!==c&&c,s=e.preview,i=e.capture,o=e.isAutosized,l=e.sizeInfo,u=Object(r.useContext)(Ie),d=Object(m.a)(u,1)[0],j=d.oscar,b=d.colorMap,f=j.findSection(n);if(null==f)return null;var h=b[f.course.id],v=K(h);return Object(G.jsxs)("div",{className:X("TimeBlocks",i&&"capture",a&&"overlay",t),children:[f.meetings.map((function(e,t){var r=e.period;if(null!=r){var c=Ve(r);return e.days.map((function(a){var i=l[a];if(null!=i){var o=i[c];if(null!=o)return Object(G.jsx)("div",{className:X("meeting",v,"default",a),style:{top:"".concat((r.start-y)/780*100,"%"),height:"".concat((r.end-r.start)/780*100,"%"),width:"".concat(20/o.rowSize,"%"),left:"".concat(20*w.indexOf(a)+o.rowIndex*(20/o.rowSize),"%"),backgroundColor:h},"data-tip":!0,"data-for":n,children:!s&&Object(G.jsxs)("div",{className:"meeting-wrapper",children:[Object(G.jsxs)("div",{className:"ids",children:[Object(G.jsx)("span",{className:"course-id",children:f.course.id}),Object(G.jsxs)("span",{className:"section-id",children:["\xa0",f.id]})]}),Object(G.jsx)("span",{className:"period",children:Y(r)}),Object(G.jsx)("span",{className:"where",children:e.where}),Object(G.jsx)("span",{className:"instructors",children:e.instructors.join(", ")})]})},[t,a].join("-"))}}))}})),!o&&Object(G.jsx)(_e.a,{id:n,className:"tooltip",type:"dark",place:"top",effect:"solid",children:Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Course Name"})}),Object(G.jsx)("td",{children:f.course.title})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Delivery Type"})}),Object(G.jsx)("td",{children:f.deliveryMode})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Course Number"})}),Object(G.jsx)("td",{children:f.crn})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Credit Hours"})}),Object(G.jsx)("td",{children:f.credits})]})]})})})]})}n(283);function Re(e){var t=e.className,n=e.overlayCrns,c=e.preview,a=void 0!==c&&c,s=e.capture,i=void 0!==s&&s,o=e.isAutosized,l=void 0!==o&&o,u=Object(r.useContext)(Ie),d=Object(m.a)(u,1)[0],j=d.pinnedCrns,b=d.oscar,f={},v=function e(t,n,r,c,a){n.has(r)||(n.add(r),t.filter((function(e){return e.period.start<c.end&&e.period.end>c.start})).forEach((function(r){r.rowSize=a,e(t,n,r.crn,r.period,a)})))},p=Array.from(new Set([].concat(Object(h.a)(j),Object(h.a)(n||[])))),O=function(e){var t=b.findSection(e);return null==t?0:Math.max.apply(Math,Object(h.a)(t.meetings.flatMap((function(e){var t=e.period;return null==t?[]:[t.end-t.start]}))))};return p.sort((function(e,t){return O(e)-O(t)})),p.forEach((function(e){var t=b.findSection(e);null!=t&&t.meetings.filter((function(e){return e.period})).forEach((function(t){var n=t.period;null!=n&&t.days.forEach((function(t){var r=Object.values(f).flatMap((function(e){var n;return null!=e?Object.values(null!==(n=e[t])&&void 0!==n?n:{}):[]})).flatMap((function(e){return null==e?[]:[e]})),c=r.filter((function(e){return e.period.start<n.end&&e.period.end>n.start})).reduce((function(e,t){return Math.max(e,t.rowSize+1)}),1);v(r,new Set,e,n,c);var a=f[e]||{};f[e]=a;var s=a[t]||{};a[t]=s,s[Ve(n)]={period:n,crn:e,rowIndex:c-1,rowSize:c}}))}))})),Object(G.jsxs)("div",{className:X("Calendar",i&&"capture",a&&"preview",t),children:[!a&&Object(G.jsx)("div",{className:"times",children:new Array(13).fill(0).map((function(e,t){var n=y+60*t;return Object(G.jsx)("div",{className:"time",children:Object(G.jsx)("span",{className:"label",children:U(n)})},n)}))}),!a&&Object(G.jsx)("div",{className:"days",children:w.map((function(e){return Object(G.jsx)("div",{className:"day",children:Object(G.jsx)("span",{className:"label",children:e})},e)}))}),Object(G.jsxs)("div",{className:"meetings",children:[j.map((function(e){var t;return Object(G.jsx)(Le,{crn:e,preview:a,capture:i,isAutosized:l,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)})),n&&n.filter((function(e){return!j.includes(e)})).map((function(e){var t;return Object(G.jsx)(Le,{crn:e,overlay:!a,preview:a,capture:i,isAutosized:!0,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)}))]})]})}var Pe=n(134),Be=n(348),We=n(349);function ze(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}n(292);var Ge=["children"],qe=["children"];function He(e){var t=e.children,n=e.buttons,c=void 0===n?[]:n,a=e.show,s=e.onHide,i=e.width,o=void 0===i?480:i,l=e.className,u=e.style,j=e.preserveChildrenWhileHiding,b=void 0===j||j,f=ze(null!==t&&void 0!==t?t:Object(G.jsx)(G.Fragment,{})),h=ze(a),m=t;return a||!0!==h||b&&null!=f&&(m=f),Object(G.jsx)(Be.a,{show:a,onHide:s,onBackdropClick:s,className:"modal-positioner",renderBackdrop:function(e){return Object(G.jsx)("div",Object(d.a)(Object(d.a)({},e),{},{className:"modal-backdrop"}))},transition:Je,backdropTransition:Ye,children:Object(G.jsxs)("div",{className:X("modal",l),style:Object(d.a)({width:o},u),children:[Object(G.jsx)("div",{className:"modal__content",children:m}),c.length>0&&Object(G.jsx)("div",{className:"modal__footer",children:c.map((function(e,t){return Object(r.createElement)(Ue,Object(d.a)(Object(d.a)({},e),{},{key:t}))}))})]})})}function Ue(e){var t=e.label,n=e.onClick,r=e.cancel,c=e.className,a=e.style;return Object(G.jsx)("button",{className:X("modal__button",r&&"modal__button--cancel",!r&&"modal__button--normal",c),type:"button",onClick:n,style:a,children:t})}function Ye(e){var t=e.children,n=Object(T.a)(e,Ge);return Object(G.jsx)(We.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade",children:t}))}function Je(e){var t=e.children,n=Object(T.a)(e,qe);return Object(G.jsx)(We.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade-zoom",children:t}))}n(130),n(293);function Ke(){var e=Object(r.useContext)(Ie),t=Object(m.a)(e,2),n=t[0],c=n.oscar,a=n.desiredCourses,s=n.pinnedCrns,i=n.excludedCrns,o=n.sortingOptionIndex,l=t[1].patchSchedule,u=Object(r.useContext)(Fe),d=Object(m.a)(u,2)[1],j=Object(r.useState)(!1),b=Object(m.a)(j,2),f=b[0],v=b[1],p=Object(r.useCallback)((function(){v(!0)}),[]),O=Object(r.useMemo)((function(){return c.getCombinations(a,s,i)}),[c,a,s,i]),x=Object(r.useMemo)((function(){return c.sortCombinations(O,o)}),[c,O,o]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"CombinationContainer",children:[Object(G.jsx)(dt,{onChange:function(e){return l({sortingOptionIndex:e})},current:o,options:c.sortingOptions.map((function(e,t){return{id:t,label:e.label}}))}),Object(G.jsx)(he,{className:"reset",onClick:p,disabled:0===s.length,children:"Reset Sections"}),Object(G.jsx)("div",{className:"scroller",children:Object(G.jsx)(Pe.a,{children:function(e){var t=e.width,n=e.height;return Object(G.jsx)(Pe.b,{width:t,height:n,style:{outline:"none"},rowCount:x.length,rowHeight:108,rowRenderer:function(e){var t=e.index,n=e.key,r=e.style,c=x[t].crns;return Object(G.jsx)("div",{className:"list-item",style:r,children:Object(G.jsxs)("div",{className:"combination",onMouseEnter:function(){return d(c)},onMouseLeave:function(){return d([])},onClick:function(){return l({pinnedCrns:[].concat(Object(h.a)(s),Object(h.a)(c))})},children:[Object(G.jsx)("div",{className:"number",children:t+1}),Object(G.jsx)(Re,{className:"calendar-preview",overlayCrns:c,isAutosized:!0,preview:!0})]})},n)}})}})})]}),Object(G.jsx)(He,{show:f,onHide:function(){return v(!1)},buttons:[{label:"Cancel",cancel:!0,onClick:function(){return v(!1)}},{label:"Reset",onClick:function(){v(!1),l({pinnedCrns:[]})}}],children:Object(G.jsxs)("div",{style:{textAlign:"center"},children:[Object(G.jsx)("h2",{children:"Reset confirmation"}),Object(G.jsx)("p",{children:"Are you sure you want to reset selected sections?"})]})})]})}var Qe=n(53),Xe=Symbol("__#Cancellable-cancelled-symbol"),Ze=function(){function e(){var t=this;Object(E.a)(this,e),this.isCancelled=void 0,this.cancel=void 0,this.promise=void 0,this.isCancelled=!1,this.cancel=function(){},this.promise=new Promise((function(e){t.cancel=function(){t.isCancelled=!0,e(Xe)}}))}return Object(A.a)(e,[{key:"perform",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([this.promise,t]);case 2:if((n=e.sent)!==Xe){e.next=5;break}return e.abrupt("return",{cancelled:!0});case 5:return e.abrupt("return",{cancelled:!1,value:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n(294);function $e(e){var t=e.className,n=e.courseId,c=e.onAddCourse,a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(m.a)(l,2),f=j[0],h=j[1],v=Object(r.useState)(!1),p=Object(m.a)(v,2),O=p[0],x=p[1],g=Object(r.useState)(null),y=Object(m.a)(g,2),w=y[0],C=y[1],N=Boolean(c),S=Object(r.useContext)(Ie),k=Object(m.a)(S,2),D=k[0],T=D.oscar,E=D.term,A=D.desiredCourses,M=D.pinnedCrns,I=D.excludedCrns,F=D.colorMap,_=k[1].patchSchedule;Object(r.useEffect)((function(){var e=T.findCourse(n);if(null!=e&&!N){var t=new Ze;return function(){return r.apply(this,arguments)}().catch((function(t){W(new B({message:"error fetching course GPA",source:t,fields:{courseId:n,term:e.term}}))})),function(){t.cancel()}}function r(){return(r=Object(b.a)(u.a.mark((function n(){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return");case 2:return r=e.fetchGpa(),n.next=5,t.perform(r);case 5:(c=n.sent).cancelled||C(c.value);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[N,T,n]);var V=Object(r.useCallback)((function(e){var t=Object(d.a)({},F);delete t[e.id],_({desiredCourses:A.filter((function(t){return t!==e.id})),pinnedCrns:M.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),excludedCrns:I.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),colorMap:t})}),[A,M,I,F,_]),L=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));_({excludedCrns:I.filter((function(e){return!t.includes(e)}))})}),[I,_]),R=T.findCourse(n);if(null==R)return null;var P,z=F[R.id],q=null!=z&&K(z),H=T.version>1,U=null;H&&(U=null!==(P=R.prereqs)&&void 0!==P?P:[]);var Y={};R.sections.forEach((function(e){var t,n=Object(m.a)(e.instructors,1)[0],r=void 0===n?"Not Assigned":n,c=null!==(t=Y[r])&&void 0!==t?t:[];c.push(e),Y[r]=c}));var J=Object.keys(Y),Q=J.filter((function(e){var t=Y[e];return null!=t&&t.every((function(e){return I.includes(e.crn)}))})),Z=J.filter((function(e){return!Q.includes(e)})),$=function(e,t){h(e),o(t)},ee={icon:fe.v,styling:{transform:"rotate(90deg)"},onClick:function(){$(!0,!f||!i)}},te={icon:fe.p,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(E,"&subj_code_in=")+"".concat(R.subject,"&crse_numb_in=").concat(R.number)},ne=R.sections.filter((function(e){return M.includes(e.crn)})),re=ne.reduce((function(e,t){return e+t.credits}),0);return Object(G.jsxs)("div",{className:X("Course",q,"default",t),style:{backgroundColor:z},children:[Object(G.jsxs)(pe,{label:[R.id,ne.map((function(e){return e.id})).join(", ")].join(" "),actions:N?[{icon:fe.u,onClick:c},H?ee:te]:[{icon:i?fe.c:fe.b,onClick:function(){return $(!1,!i)}},H?ee:te,{icon:fe.r,onClick:function(){return x(!O)}},{icon:fe.A,onClick:function(){return V(R)}}],children:[Object(G.jsxs)("div",{className:"course-row",children:[Object(G.jsx)("span",{className:"course-title",children:R.title}),Object(G.jsx)("span",{className:"section-crns",children:ne.map((function(e){return e.crn})).join(", ")})]}),!N&&Object(G.jsxs)("div",{className:"course-row",children:[Object(G.jsxs)("span",{className:"gpa",children:["Course GPA:"," ",null===w?"Loading...":w.averageGpa?w.averageGpa.toFixed(2):"N/A"]}),re>0&&Object(G.jsxs)("span",{className:"credits",children:[re," Credits"]})]}),O&&Object(G.jsx)(Zt,{className:"palette",onSelectColor:function(e){return _({colorMap:Object(d.a)(Object(d.a)({},F),{},Object(Qe.a)({},n,e))})},color:null!==z&&void 0!==z?z:null,onMouseLeave:function(){return x(!1)}})]}),i&&!f&&Object(G.jsxs)("div",{className:X("hover-container","nested"),children:[Z.map((function(e){var t,n=0;return null!==w&&(n=w[e]),Object(G.jsx)(zt,{color:z,name:e,sections:null!==(t=Y[e])&&void 0!==t?t:[],gpa:null===w?"Loading...":n?n.toFixed(2):"N/A"},e)})),Q.length>0&&Object(G.jsx)("div",{className:"excluded-instructor-container",children:Q.map((function(e){return Object(G.jsx)("span",{className:"excluded-instructor",onClick:function(){var t=Y[e];null!=t&&L(t)},children:e},e)}))})]}),i&&f&&null!==U&&Object(G.jsx)(en,{course:R,prereqs:U})]},R.id)}n(295);function et(e){switch(e){case"deliveryMode":case"campus":return!0;default:return!1}}function tt(e){var t=e.className,n=Object(r.useContext)(Ie),c=Object(m.a)(n,2),a=c[0],s=a.oscar,i=a.desiredCourses,o=a.excludedCrns,l=a.colorMap,u=c[1].patchSchedule,j=Object(r.useState)(""),b=Object(m.a)(j,2),f=b[0],v=b[1],p=Object(r.useState)({deliveryMode:[],campus:[]}),O=Object(m.a)(p,2),x=O[0],g=O[1],y=Object(r.useState)(0),w=Object(m.a)(y,2),C=w[0],k=w[1],D=Object(r.useRef)(null),T=Object(r.useCallback)((function(e){var t=e.target.value.trim(),n=/^([A-Z]+)(\d.*)$/i.exec(t);if(null!=n){var r=n,c=Object(m.a)(r,3),a=c[1],s=c[2];t="".concat(a," ").concat(s)}v(t)}),[]),E=Object(r.useMemo)((function(){var e=/^([A-Z]+) ?((\d.*)?)$/i.exec(f.toUpperCase());if(!e)return[];var t=e,n=Object(m.a)(t,3),r=n[1],c=n[2];return k(0),s.courses.filter((function(e){var t=e.subject===r&&e.number.startsWith(c),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];return!et(r)||0===c.length||e.sections.some((function(e){var t=e[r];return null!=t&&c.includes(t)}))}))}(e,x);return t&&n})).filter((function(e){return!i.includes(e.id)}))}),[s,f,x,i]),A=Object(r.useCallback)((function(e){var t;if(!i.includes(e.id)){var n=e.sections.filter((function(e){var t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every((function(e){return e.days.length&&e.period})),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];if(0===c.length)return!0;if(!et(r))return!0;var a=e[r];return null!=a&&c.includes(a)}))}(e,x);return!t||!n})).map((function(e){return e.crn}));u({desiredCourses:[].concat(Object(h.a)(i),[e.id]),excludedCrns:[].concat(Object(h.a)(o),Object(h.a)(n)),colorMap:Object(d.a)(Object(d.a)({},l),{},Object(Qe.a)({},e.id,J()))}),v(""),null===(t=D.current)||void 0===t||t.focus()}}),[x,i,o,l,D,u]),M=Object(r.useCallback)((function(e){switch(e.key){case"Enter":var t=E[C];null!=t&&A(t);break;case"ArrowDown":k(Math.min(C+1,E.length-1));break;case"ArrowUp":k(Math.max(C-1,0));break;default:return}e.preventDefault()}),[E,A,C]),I=Object(r.useCallback)((function(e,t){var n=x[e];g(Object(d.a)(Object(d.a)({},x),{},Object(Qe.a)({},e,n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(h.a)(n),[t]))))}),[x]),F=Object(r.useCallback)((function(e){g(Object(d.a)(Object(d.a)({},x),{},Object(Qe.a)({},e,[])))}),[x]),_=E[C];return Object(G.jsxs)("div",{className:X("CourseAdd",t),children:[Object(G.jsxs)("div",{className:"add",children:[Object(G.jsxs)("div",{className:"primary",children:[Object(G.jsx)(be.a,{className:X("icon",E.length>0&&"active"),fixedWidth:!0,icon:fe.u}),Object(G.jsxs)("div",{className:"keyword-wrapper",children:[_&&Object(G.jsx)("div",{className:X("keyword","autocomplete"),children:_.id}),Object(G.jsx)("input",{type:"text",ref:D,value:f,onChange:T,className:"keyword",placeholder:"XX 0000",onKeyDown:M})]})]}),[["Delivery Mode","deliveryMode",N],["Campus","campus",S]].map((function(e){var t=Object(m.a)(e,3),n=t[0],r=t[1],c=t[2];return Object(G.jsx)(at,{name:n,labels:c,selectedTags:x[r],onReset:function(){return F(r)},onToggle:function(e){return I(r,e)}},r)}))]}),E.length>0?E.map((function(e){return Object(G.jsx)($e,{className:X(e===_&&"active"),courseId:e.id,onAddCourse:function(){return A(e)}},e.id)})):Object(G.jsx)("div",{className:"disclaimer",children:"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."})]})}var nt=n(182),rt=n.n(nt);n(296);function ct(){var e=Object(r.useContext)(Ie),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.desiredCourses;return Object(G.jsxs)("div",{className:"CourseContainer",children:[Object(G.jsxs)("div",{className:"scroller",children:[Object(G.jsx)("div",{className:"course-list",children:c.map((function(e){return Object(G.jsx)($e,{courseId:e},e)}))}),Object(G.jsx)(tt,{className:"course-add"})]}),Object(G.jsxs)(he,{className:"updated-at",href:"https://github.com/gt-scheduler/crawler",children:["Course data fetched ",rt()(n.updatedAt)]})]})}n(297);function at(e){var t=e.name,n=e.labels,c=e.selectedTags,a=e.onReset,s=e.onToggle,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(G.jsxs)("div",{className:"CourseFilter",children:[Object(G.jsxs)("div",{className:X("header",c.length>0&&"active"),onClick:function(){return u(!l)},children:[!l&&c.length>0?Object(G.jsx)("div",{className:"name",children:ne(c.flatMap((function(e){var t=n[e];return null!=t?[t]:[]})),Object(G.jsx)("span",{className:"or",children:"or"}))}):Object(G.jsx)("div",{className:"name",children:t}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:l?fe.c:fe.b})]}),l&&Object(G.jsxs)("div",{className:"tag-container",children:[Object(G.jsx)("div",{className:X("tag",0===c.length&&"active"),onClick:a,children:"All"}),Object.keys(n).map((function(e){return Object(G.jsx)("div",{className:X("tag",c.includes(e)&&"active"),property:e,onClick:function(){return s(e)},children:n[e]},e)}))]})]})}n(298);function st(e){return[e.start,e.end].join("-")}function it(e){var t=e.className,n=e.crn,c=e.sizeInfo,a=Object(r.useContext)(Ie),s=Object(m.a)(a,1)[0],i=s.oscar,o=s.colorMap,l=i.findSection(n);if(null==l)return null;var u=o[l.course.id],d=K(u);return Object(G.jsx)("div",{className:X("FinalBlocks",t),children:l.meetings.map((function(e,t){var n=e.finalTime,r=e.finalDate;if(null!==n&&null!==r){var a=st(n),s=r.toDateString(),o=c[s];if(null!=o){var j=o[a];if(null!=j){var b=100/i.finalDates.length;return Object(G.jsx)("div",{className:X("meeting",d,"default",s),style:{top:"".concat((n.start-y)/780*100,"%"),height:"".concat((n.end-n.start)/780*100,"%"),width:"".concat(b/j.rowSize,"%"),left:"".concat(i.finalDates.indexOf(r)*b+j.rowIndex*(b/j.rowSize),"%"),backgroundColor:u},children:Object(G.jsxs)("div",{className:"meeting-wrapper",children:[Object(G.jsxs)("div",{className:"ids",children:[Object(G.jsx)("span",{className:"course-id",children:l.course.id}),Object(G.jsxs)("span",{className:"section-id",children:["\xa0",l.id]})]}),Object(G.jsx)("span",{className:"period",children:Y(n)}),Object(G.jsx)("span",{className:"instructors",children:e.instructors.join(", ")})]})},[t,s].join("-"))}}}}))})}function ot(e){if(6!==e.length)return!1;var t=[e.substring(0,4),e.substring(4,6)],n=t[1],r=[Number(t[0]),Number(n)],c=r[0],a=r[1];return!(Number.isNaN(c)||c<1970||a>2100)&&!(Number.isNaN(a)||a<0||a>12)}function lt(e){if(!ot(e))return"Unknown";var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4),10)){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)}n(299);function ut(e){var t=e.style,n=e.className,c=e.size,a=void 0===c?"normal":c,s=-Object(r.useMemo)((function(){return Date.now()}),[])%800,i="number"===typeof a?a:{small:16,normal:40}[a];return Object(G.jsx)("svg",{className:X("spinner",n),style:Object(d.a)(Object(d.a)({},t),{},{"--size":"".concat(i,"px"),"--spinner-delay":"".concat(s.toFixed(3),"ms")}),viewBox:"0 0 50 50",children:Object(G.jsx)("circle",{cx:"25",cy:"25",r:"20"})})}n(300);function dt(e){var t=e.className,n=e.style,a=e.menuAnchor,s=void 0===a?"left":a,i=e.current,o=e.onChange,l=e.options,u=e.desiredItemWidth,d=void 0===u?null:u,j=e.onClickNew,b=e.newLabel,f=void 0===b?"New":b,h=Object(r.useState)(!1),v=Object(m.a)(h,2),p=v[0],O=v[1],x=l.find((function(e){return e.id===i})),g=x?x.label:"-",y=Object(r.useState)(null),w=Object(m.a)(y,2),C=w[0],N=w[1],S=Object(r.useState)(""),k=Object(m.a)(S,2),D=k[0],T=k[1],E=Object(r.useState)(null),A=Object(m.a)(E,2),M=A[0],I=A[1],F=function(){if(null===M)return!1;if(null===C)return!1;var e=D.trim();return!!M.onCommit(e,C)&&(N(null),T(""),I(null),!0)},_=function(){N(null),T(""),I(null)},V=function(e){null!==M&&null!==C&&("Enter"===e.key&&F()&&O(!1),"Escape"===e.key&&(_(),O(!1)))},L=function(e){(null===C||e)&&O(e)};return Object(G.jsxs)("div",{className:X("Button","Select",t,"anchor-".concat(s)),onClick:function(){return L(!p)},style:n,children:[Object(G.jsx)("div",{className:"text",children:g}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g}),p&&Object(G.jsx)("div",{className:"intercept",onClick:function(){return L(!1)}}),p&&Object(G.jsxs)("div",{className:"option-container",style:null!=d?{width:d}:{},children:[l.map((function(e){var t=e.id,n=e.label,r=e.actions,a=void 0===r?[]:r;return Object(G.jsxs)("div",{className:X("option",t===C&&"option--inputting"),children:[C===t?Object(G.jsx)(ft,{className:"option__input",value:D,onChange:function(e){return T(e.target.value)},placeholder:n,onKeyDown:V}):Object(G.jsx)(he,{className:"option__button",onClick:function(){return o(t)},children:n},t),a.map((function(e,r){return Object(G.jsx)(c.a.Fragment,{children:"button"===e.type?Object(G.jsx)(he,{className:"option__action-button",onClick:function(n){n.stopPropagation(),null!==C&&_(),e.onClick(t)},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:e.icon})}):Object(G.jsx)(G.Fragment,{children:t===C?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(he,{className:"option__action-button",onClick:function(e){e.stopPropagation(),F()},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.i})}),Object(G.jsx)(he,{className:"option__action-button",onClick:function(e){e.stopPropagation(),_()},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.z})})]}):Object(G.jsx)(he,{className:"option__action-button",onClick:function(r){r.stopPropagation(),N(t),T(n),I(e)},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:e.icon})})})},r)}))]},String(t))})),void 0!==j&&Object(G.jsx)("div",{className:"option",children:Object(G.jsxs)(he,{className:"option__button",onClick:j,children:[Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.u,style:{marginRight:8}}),f]})})]})]})}function jt(e){var t=e.className,n=e.label,r=void 0===n?"Loading":n;return Object(G.jsxs)("div",{className:X("Button","Select",t,"disabled"),children:[Object(G.jsx)(ut,{size:"small",style:{marginRight:12}}),Object(G.jsx)("div",{className:"text",children:r}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}function bt(e){var t=e.className,n=e.style,c=e.menuAnchor,a=void 0===c?"left":c,s=e.children,i=e.items,o=e.disabled,l=void 0!==o&&o,u=Object(r.useState)(!1),d=Object(m.a)(u,2),j=d[0],b=d[1];return Object(G.jsxs)("div",{className:X("Button","Select",l&&"disabled",t,"anchor-".concat(a)),onClick:function(){l||b(!j)},style:n,children:[s,j&&Object(G.jsx)("div",{className:"intercept",onClick:function(){return b(!1)}}),j&&Object(G.jsx)("div",{className:"option-container",children:i.map((function(e,t){var n=e.label,r=e.icon,c=e.onClick;return Object(G.jsx)("div",{className:X("option",null==c&&"option--text"),children:null!=c?Object(G.jsxs)(he,{className:"option__button",onClick:c,children:[null!=r&&Object(G.jsx)(be.a,{fixedWidth:!0,icon:r,style:{marginRight:8}}),n]}):Object(G.jsxs)("div",{className:"option__text",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[null!=r&&Object(G.jsx)(be.a,{fixedWidth:!0,icon:r,style:{marginRight:8}}),n]})},t)}))})]})}function ft(e){var t=e.className,n=e.style,c=e.value,a=e.onChange,s=e.placeholder,i=e.onKeyDown,o=Object(r.useRef)(null);return Object(r.useEffect)((function(){null!==o.current&&(o.current.focus(),o.current.select())}),[]),Object(G.jsx)("input",{className:t,style:n,value:c,onChange:a,placeholder:s,onKeyDown:i,ref:o,type:"text"})}function ht(e){var t=Object(r.useState)(!1),n=Object(m.a)(t,2),c=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){try{var t=window.matchMedia(e);t.matches!==c&&a(t.matches);var n=function(){return a(t.matches)},r=null;return null!=t.addEventListener?(t.addEventListener("change",n),r="addEventListener"):null!=t.addListener?(t.addListener(n),r="addListener"):r=null,function(){try{switch(r){case"addEventListener":t.removeEventListener("change",n);break;case"addListener":t.removeListener(n)}}catch(a){W(new B({message:"could not run useMedia query cleanup in layout effect cleanup",source:a,fields:{previousQuery:e,previousMatches:c}}))}}}catch(s){return W(new B({message:"could not run useMedia query in layout effect",source:s,fields:{query:e,matches:c}})),function(){}}}),[c,e]),c}function mt(e){var t="number"===typeof e?"".concat(e,"px"):e;return ht("(min-width: ".concat(t,")"))}var vt=n(185),pt=n(183),Ot=n.n(pt),xt=n(10),gt=(n(170),n(339),{apiKey:"AIzaSyBXxwLoVZDdQMojawpUGT6M7FZYAmzhiUw",authDomain:"gt-scheduler-web-prod.firebaseapp.com",projectId:"gt-scheduler-web-prod",storageBucket:"gt-scheduler-web-prod.appspot.com",messagingSenderId:"896937043043",appId:"1:896937043043:web:e8e0ac814a8fa12806c456",measurementId:"G-FJMDLT27T0"}),yt=null!=gt.apiKey&&""!==gt.apiKey,wt=null,Ct=null,Nt=null;if(yt){var St=xt.a.initializeApp(gt);wt=St.auth(),Ct=St.firestore(),Nt=Ct.collection("schedules"),wt.setPersistence(xt.a.auth.Auth.Persistence.LOCAL).catch((function(e){W(new B({message:"error when configuring firebase auth persistence",source:e}))}))}var kt=[xt.a.auth.EmailAuthProvider.PROVIDER_ID,xt.a.auth.GoogleAuthProvider.PROVIDER_ID,xt.a.auth.GithubAuthProvider.PROVIDER_ID],Dt=(n(310),{signInFlow:"popup",signInOptions:kt,callbacks:{signInSuccessWithAuthResult:function(){return!1}}});function Tt(){var e=40*kt.length;return kt.length>=2&&(e+=15*(kt.length-1)),Object(G.jsxs)("div",{className:"login-modal-content",children:[Object(G.jsx)("h1",{children:"Sign in"}),Object(G.jsx)("p",{className:"login-modal-content__body",children:"Sign in using one of the below identity providers to start syncing your schedules across devices."}),Object(G.jsx)("div",{style:{minHeight:e},children:Object(G.jsx)(Ot.a,{className:"login-modal-content__firebase-ui",uiConfig:Dt,firebaseAuth:xt.a.auth()})})]})}function Et(e){var t=e.show,n=e.onHide;return Object(r.useEffect)((function(){if(t)return xt.a.auth().onAuthStateChanged((function(e){null!==e&&n()}))}),[t,n]),Object(G.jsx)(He,{show:t,onHide:n,buttons:[{label:"Cancel",onClick:function(){return n()},cancel:!0}],children:Object(G.jsx)(Tt,{})})}n(311);function At(e){var t,n,c,a=e.state,s=e.className,i=e.style,o=Object(r.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(){return d(!1)}),[]);if(!yt)return null;switch(a.type){case"loading":t=[],n=Object(G.jsx)(ut,{size:24}),c=!0;break;case"signedIn":t=[{label:Object(G.jsx)(It,{state:a})},{label:"Sign out",icon:fe.x,onClick:function(){return a.signOut()}}],n=Object(G.jsx)(Mt,{state:a}),c=!1;break;case"signedOut":t=[{label:"Sign in",icon:fe.w,onClick:function(){d(!0)}}],n=Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.C,className:"account-dropdown__signed-out-icon"}),c=!1;break;default:return null}return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(bt,{disabled:c,menuAnchor:"right",items:t,className:X("account-dropdown",s),style:i,children:Object(G.jsxs)("div",{className:"account-dropdown__content",children:[Object(G.jsx)("div",{className:"account-dropdown__circle",children:n}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}),Object(G.jsx)(Et,{show:u,onHide:j})]})}function Mt(e){var t,n,r=e.state,c=function(e){var t,n=(new DOMParser).parseFromString(e,"text/html"),r=null!==(t=n.documentElement.textContent)&&void 0!==t?t:"",c=/\b\w/g,a=r.match(c);return null===a?"":a.join("")}(null!==(t=null!==(n=r.name)&&void 0!==n?n:r.email)&&void 0!==t?t:r.id);return Object(G.jsx)("span",{className:"account-dropdown__user-initials",style:{fontSize:c.length<=1?22:2===c.length?19:15},children:c.slice(0,3)})}function It(e){var t,n=e.state;if(null!==n.name){var r,c=null!==(r=(new DOMParser).parseFromString(n.name,"text/html").documentElement.textContent)&&void 0!==r?r:"",a=Object(G.jsx)("strong",{children:c});t=null!==n.email?Object(G.jsxs)(G.Fragment,{children:[a," (",n.email,")"]}):a}else t=null!==n.email?n.email:n.id;var s="";return null!==n.provider&&(s=" via ".concat(n.provider)),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{className:"account-dropdown__signed-in-label-faded",children:"Signed in as:"}),Object(G.jsx)("br",{}),t,Object(G.jsx)("br",{}),Object(G.jsx)("span",{className:"account-dropdown__signed-in-label-faded",children:s})]})}n(312);function Ft(e){var t=e.className,n=e.style,c=e.accountState,a=e.onCopyCrns,s=void 0===a?function(){}:a,i=e.enableCopyCrns,o=void 0!==i&&i,l=e.onExportCalendar,u=void 0===l?function(){}:l,d=e.enableExportCalendar,j=void 0!==d&&d,b=e.onDownloadCalendar,f=void 0===b?function(){}:b,h=e.enableDownloadCalendar,v=void 0!==h&&h,p=Object(r.useContext)(Oe),O=Object(m.a)(p,2),x=O[0],g=O[1],y=Object(r.useCallback)((function(){g("light"===x?"dark":"light")}),[x,g]),w=o||v||j,C=[];v&&C.push({label:"Download image",icon:fe.l,onClick:f}),j&&C.push({label:"ICS (Calendar) file",icon:fe.f,onClick:u}),o&&C.push({label:"Copy CRNs to clipboard",icon:fe.s,onClick:s});var N=ht("(min-width: ".concat(600,"px) and (max-width: ").concat(1200,"px)"));return Object(G.jsxs)("div",{className:X("header-action-bar",t),style:n,children:[Object(G.jsx)(bt,{disabled:!w,items:C,menuAnchor:N?"right":"left",className:"header-action-bar__button",children:Object(G.jsxs)("div",{className:"header-action-bar__export-dropdown-content",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:fe.l}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"Export"}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}),Object(G.jsxs)(he,{onClick:y,className:"header-action-bar__button",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:fe.a}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"Theme"})]}),Object(G.jsxs)(he,{href:"https://github.com/gt-scheduler/website",className:"header-action-bar__button",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:vt.a}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"GitHub"})]}),Object(G.jsx)(At,{state:c})]})}n(313);function _t(e){var t=e.totalCredits,n=void 0===t?null:t,r=e.currentTab,c=e.onChangeTab,a=e.onToggleMenu,s=e.tabs,i=e.onCopyCrns,o=void 0===i?function(){}:i,l=e.enableCopyCrns,u=void 0!==l&&l,d=e.onExportCalendar,j=void 0===d?function(){}:d,b=e.enableExportCalendar,f=void 0!==b&&b,h=e.onDownloadCalendar,m=void 0===h?function(){}:h,v=e.enableDownloadCalendar,p=void 0!==v&&v,O=e.termsState,x=e.versionsState,g=e.accountState,y=!mt(D),w=mt(600);return Object(G.jsxs)("div",{className:"Header",children:[y&&Object(G.jsx)(he,{className:"nav-menu-button",onClick:a,children:Object(G.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.e})}),Object(G.jsxs)(he,{className:"logo",children:[Object(G.jsx)("span",{className:"gt",children:"GT "}),Object(G.jsx)("span",{className:"scheduler",children:"Scheduler"})]}),"loaded"===O.type?Object(G.jsx)(dt,{onChange:O.onChangeTerm,current:O.currentTerm,options:O.terms.map((function(e){return{id:e,label:lt(e)}})),className:"semester"}):Object(G.jsx)(jt,{}),Object(G.jsx)(Vt,{state:x}),Object(G.jsxs)("span",{className:"credits",children:[null===n?Object(G.jsx)(ut,{size:"small",style:{marginRight:8}}):n," ","Credits"]}),!y&&Object(G.jsx)("div",{className:"tabs",children:s.map((function(e,t){return Object(G.jsx)(ln,{active:t===r,onClick:function(){return c(t)},label:e},t)}))}),w&&Object(G.jsx)(Ft,{accountState:g,onCopyCrns:o,enableCopyCrns:u,onExportCalendar:j,enableExportCalendar:f,onDownloadCalendar:m,enableDownloadCalendar:p})]})}function Vt(e){var t,n=e.state,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];return"loading"===n.type?Object(G.jsx)(jt,{}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(dt,{className:"version-switch",desiredItemWidth:260,newLabel:"New Schedule",onChange:n.setCurrentVersion,current:n.currentVersion,options:n.allVersionNames.map((function(e){var t=[];return t.push({type:"edit",icon:fe.t,onCommit:function(t){return n.renameVersion(e.id,t),!0}}),t.push({type:"button",icon:fe.k,onClick:function(){n.cloneVersion(e.id,"Copy of ".concat(e.name))}}),n.allVersionNames.length>=2&&t.push({type:"button",icon:fe.B,onClick:function(){i(e)}}),{id:e.id,label:e.name,actions:t}})),onClickNew:function(){n.addNewVersion(function(e){var t=new Set(e);if(0===t.size)return"Primary";var n,r=Object(j.a)(le);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!t.has(c))return c}}catch(a){r.e(a)}finally{r.f()}return"New version"}(n.allVersionNames.map((function(e){return e.name}))),!0)}}),Object(G.jsx)(He,{show:null!=s,onHide:function(){return i(null)},buttons:[{label:"Cancel",cancel:!0,onClick:function(){return i(null)}},{label:"Delete",onClick:function(){null!=s&&n.deleteVersion(s.id),i(null)}}],preserveChildrenWhileHiding:!0,children:Object(G.jsxs)("div",{style:{textAlign:"center"},children:[Object(G.jsx)("h2",{children:"Delete confirmation"}),Object(G.jsxs)("p",{children:["Are you sure you want to delete schedule \u201c",null!==(t=null===s||void 0===s?void 0:s.name)&&void 0!==t?t:"<unknown>","\u201d?"]})]})})]})}var Lt=n(186),Rt=n.n(Lt),Pt=c.a.createContext({type:"signedOut"});function Bt(e){var t=Object(r.useContext)(Ie),n=Object(m.a)(t,1)[0],c=n.oscar,a=n.pinnedCrns,s=Object(r.useContext)(Oe),i=Object(m.a)(s,1)[0],o=Object(r.useContext)(Pt),l=Object(r.useCallback)((function(){try{!function(e,t){var n=z();if(null==n)return window.alert("This browser does not support calendar export"),void W(new B({message:"ics() returned null or undefined"}));t.forEach((function(t){var r=e.findSection(t);null!=r&&r.meetings.forEach((function(e){if(e.period&&e.days.length){for(var t=e.dateRange,c=t.from,a=t.to,s=r.course.id,i=r.course.title,o=e.where,l=new Date(c.getTime());!e.days.includes(null!==(u=["-","M","T","W","R","F","-"][l.getDay()])&&void 0!==u?u:"-");){var u;l.setDate(l.getDate()+1)}l.setHours(e.period.start/60,e.period.start%60);var d=new Date(l.getTime());d.setHours(e.period.end/60,e.period.end%60);var j={freq:"WEEKLY",until:a,byday:e.days.map((function(e){var t;return null!==(t={M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e])&&void 0!==t?t:null})).filter((function(e){return!!e}))};n.addEvent(s,i,o,l,d,j)}}))})),n.download("gt-scheduler")}(c,a)}catch(e){W(new B({message:"exporting courses to calendar failed",fields:{pinnedCrns:a,term:c.term}}))}}),[c,a]),u=Object(r.useCallback)((function(){var t=e.current;if(null!=t)try{!function(e,t){var n=window.getComputedStyle(e).getPropertyValue("left");x.a.toBlob(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{transform:"scale(".concat(2,")"),"transform-origin":"".concat(n," 0px"),"background-color":"light"===t?"#FFFFFF":"#333333"}}).then((function(e){return Object(g.saveAs)(e,"schedule.png")})).catch((function(e){return W(new B({message:"could not take screenshot of shadow calendar for schedule export",source:e}))}))}(t,i)}catch(n){W(new B({message:"downloading shadow calendar as PNG failed",fields:{pinnedCrns:a,theme:i,term:c.term}}))}}),[e,i,a,c.term]);return{onCopyCrns:Object(r.useCallback)((function(){try{Rt()(a.join(", "))}catch(e){W(new B({message:"copying CRNs to clipboard failed",fields:{pinnedCrns:a,term:c.term}}))}}),[a,c.term]),enableCopyCrns:a.length>0,onExportCalendar:l,enableDownloadCalendar:a.length>0,onDownloadCalendar:u,enableExportCalendar:a.length>0,accountState:o}}n(315);function Wt(e){var t=e.currentTab,n=e.onChangeTab,c=e.onToggleMenu,a=e.tabs,s=e.captureRef,i=Object(r.useContext)(Ie),o=Object(m.a)(i,2),l=o[0],u=l.term,j=l.oscar,b=l.pinnedCrns,f=l.allVersionNames,h=l.currentVersion,v=o[1],p=v.setTerm,O=v.setCurrentVersion,x=v.addNewVersion,g=v.deleteVersion,y=v.renameVersion,w=v.cloneVersion,C=Object(r.useContext)(xe),N=Object(r.useMemo)((function(){return b.reduce((function(e,t){var n=j.findSection(t);return e+(null!=n?n.credits:0)}),0)}),[b,j]),S=Bt(s);return Object(G.jsx)(_t,Object(d.a)(Object(d.a)({totalCredits:N,currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:a},S),{},{termsState:{type:"loaded",terms:C,currentTerm:u,onChangeTerm:p},versionsState:{type:"loaded",allVersionNames:f,currentVersion:h,setCurrentVersion:O,addNewVersion:x,deleteVersion:g,renameVersion:y,cloneVersion:w}}))}n(316);function zt(e){var t=e.className,n=e.color,c=e.name,a=e.sections,s=e.gpa,i=Object(r.useContext)(Ie),o=Object(m.a)(i,2),l=o[0],u=l.pinnedCrns,d=l.excludedCrns,j=o[1].patchSchedule,b=Object(r.useState)(!0),f=Object(m.a)(b,2),v=f[0],p=f[1],O=Object(r.useCallback)((function(e){j({excludedCrns:d.filter((function(t){return t!==e.crn}))})}),[d,j]),x=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));j({excludedCrns:$([].concat(Object(h.a)(d),Object(h.a)(t))),pinnedCrns:u.filter((function(e){return!t.includes(e)}))})}),[d,u,j]),g=a.some((function(e){return u.includes(e.crn)})),y=a.filter((function(e){return!d.includes(e.crn)})),w=a.filter((function(e){return d.includes(e.crn)})),C="exclude-instructor-".concat(c.replace(" ","-"));return Object(G.jsxs)("div",{className:X("Instructor",!v&&"divider-bottom",t),children:[Object(G.jsx)(pe,{label:c||"Not Assigned",actions:[{icon:v?fe.c:fe.b,onClick:function(){return p(!v)}},["TBA","Not Assigned"].includes(c)?null:{icon:fe.o,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(Z(c)))},{icon:fe.d,dataTip:!0,dataFor:C,onClick:function(){return x(a)}}],style:g?{backgroundColor:n}:void 0,children:Object(G.jsx)("div",{className:"instructor-row",children:Object(G.jsxs)("span",{className:"gpa",children:["Instructor GPA: ",s||"N/A"]})})}),Object(G.jsx)(_e.a,{id:C,type:"dark",place:"bottom",effect:"solid",children:"Exclude from Combinations"}),v&&Object(G.jsxs)("div",{className:X("section-container","nested"),children:[y.map((function(e){var t=u.includes(e.crn);return Object(G.jsx)(on,{className:"divider-bottom",section:e,color:n,pinned:t},e.id)})),w.length>0&&Object(G.jsx)("div",{className:"excluded-section-container",children:w.map((function(e){return Object(G.jsx)("span",{className:"excluded-section",onClick:function(){return O(e)},children:e.id},e.id)}))})]})]})}var Gt=n(112);n(317),n(318);function qt(e){var t,n=e.locations,c=Object(r.useState)({latitude:33.7765,longitude:-84.3963,zoom:15}),a=Object(m.a)(c,2),s=a[0],i=a[1],o=[],l=new Map;n.forEach((function(e){if(null===e.coords)o.push(e);else if(l.has(e.coords)){var t;null===(t=l.get(e.coords))||void 0===t||t.push(e)}else l.set(e.coords,[e])}));var u=Object(r.useContext)(Oe),d="dark"===Object(m.a)(u,1)[0]?"mapbox://styles/gt-scheduler/cktc4yzhm018w17ql65xa802o":"mapbox://styles/gt-scheduler/cktc4y61t018918qjynvngozg";return Object(G.jsx)("div",{className:"mapbox",children:Object(G.jsxs)(Gt.c,{height:"100%",width:"100%",viewState:s,mapStyle:d,mapboxApiAccessToken:null!==(t="pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ")?t:"",onViewStateChange:function(e){var t=e.viewState;return i(t)},children:[Array.from(l.entries()).map((function(e,t){var n=Object(m.a)(e,2),r=n[0],c=n[1];return Object(G.jsxs)(Gt.a,{latitude:r.lat,longitude:r.long,children:[Object(G.jsx)(be.a,{icon:fe.q,className:"pin-icon"}),Object(G.jsx)("div",{className:"pin-text",children:c.map((function(e){return Object(G.jsxs)("div",{children:[e.id," ",e.section]},e.id+e.section)}))})]},t)})),o.length>0&&Object(G.jsxs)("div",{className:"unknown-container",children:[Object(G.jsx)("b",{children:"Undetermined"}),o.map((function(e,t){return Object(G.jsxs)("div",{className:"class",children:[e.id," ",e.section]},t)}))]}),Object(G.jsx)("div",{className:"navigation",children:Object(G.jsx)(Gt.b,{showZoom:!0,showCompass:!0})})]})})}n(319);function Ht(e){switch(e){case"M":case"T":case"W":case"R":case"F":return!0;default:return!1}}var Ut=["#FCB9AA","#FFDBCC","#ECEAE4","#A2E1DB","#55CBCD"],Yt=["#5e3931","#704737","#685a30","#3c6962","#286061"];function Jt(e){var t=e.courseDateMap,n=e.activeDay,c=e.setActiveDay,a=["Monday","Tuesday","Wednesday","Thursday","Friday"],s=Object(r.useContext)(Oe),i="dark"===Object(m.a)(s,1)[0]?Yt:Ut,o=function(e){if(Math.floor(e/60)>=12){var t=Math.floor(e/60)%12,n=0===t?"12":t,r=String(e%60).padStart(2,"0");return"".concat(n,":").concat(r,"pm")}var c=Math.floor(e/60),a=String(e%60).padStart(2,"0");return"".concat(c,":").concat(a,"am")};return Object(G.jsx)("div",{className:"date-container",children:Object.keys(t).map((function(e,r){var s;if(!Ht(e))return null;var l=t[e];return Object(G.jsxs)("div",{className:X("date",K(i[r]),"default"),style:{backgroundColor:i[r]},children:[Object(G.jsx)(pe,{label:null!==(s=a[r])&&void 0!==s?s:"",className:"day-select",actions:[{icon:e===n?fe.c:fe.b,onClick:function(){return c(e!==n?e:"")}}]}),n===e&&Object(G.jsx)("div",{className:"dropdown-content",children:null==l||0===l.length?Object(G.jsx)("div",{className:"course-content",style:{padding:8},children:"No classes this day!"}):l.map((function(e){var t="TBA",n=e.times;if(null!=n){var r=n.start,c=n.end;t="".concat(o(r)," - ").concat(o(c))}return Object(G.jsxs)("div",{className:"course-content",children:[Object(G.jsx)("div",{className:"course-id",children:e.id}),Object(G.jsx)("span",{className:"course-row",children:e.title}),Object(G.jsxs)("span",{className:"course-row",children:[e.daysOfWeek," ",t]})]},e.id)}))})]},e)}))})}n(320);function Kt(){var e=Object(r.useContext)(Ie),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.pinnedCrns,a=Object(r.useState)("M"),s=Object(m.a)(a,2),i=s[0],o=s[1],l={M:[],T:[],W:[],R:[],F:[]};c.forEach((function(e){var t=n.findSection(e);if(null!=t){var r=t.meetings;if(0!==r.length){var c=r[0];c.days.forEach((function(e){var n;if(Ht(e)){var r=null!==(n=l[e])&&void 0!==n?n:[];r.push({id:t.course.id,title:t.course.title,times:c.period,daysOfWeek:c.days,section:t.id,coords:c.location}),l[e]=r}}))}}}));var u={M:[],T:[],W:[],R:[],F:[]};Object.entries(l).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];Ht(n)&&(u[n]=r.sort((function(e,t){var n,r,c,a;return(null!==(n=null===(r=e.times)||void 0===r?void 0:r.start)&&void 0!==n?n:0)-(null!==(c=null===(a=t.times)||void 0===a?void 0:a.start)&&void 0!==c?c:0)})))}));var d=[];return""!==i&&(d=u[i]),Object(G.jsxs)("div",{className:"map-content",children:[Object(G.jsx)(Jt,{courseDateMap:u,activeDay:i,setActiveDay:o}),Object(G.jsx)(qt,{locations:d})]})}n(321);function Qt(e){var t=e.open,n=e.onClose,r=e.children;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:X("drawer-overlay",t&&"open"),tabIndex:-1,onClick:n,role:"presentation"}),Object(G.jsxs)("div",{className:X("drawer-outer",t&&"open"),children:[Object(G.jsx)("div",{className:"drawer-header",children:Object(G.jsx)(he,{className:"drawer-close",onClick:n,children:Object(G.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.z})})}),r]})]})}n(322);function Xt(e){var t=e.items,n=e.currentItem,r=e.onChangeItem,c=e.className,a=e.style;return Object(G.jsx)("div",{className:X("nav-menu",c),style:a,children:t.map((function(e,t){return Object(G.jsx)(he,{className:X("nav-button",n===t&&"active"),onClick:function(){return r(t)},children:e},t)}))})}n(323);function Zt(e){var t=e.className,n=e.color,r=e.onSelectColor,c=e.onMouseLeave;return Object(G.jsx)("div",{className:X("Palette",t),onMouseLeave:c,children:C.map((function(e,t){return Object(G.jsx)("div",{className:"palette-row",children:e.map((function(e){return Object(G.jsx)("div",{className:X("color",e===n&&"frame"),style:{backgroundColor:e},onClick:function(){return r(e)}},e)}))},t)}))})}var $t={fontSize:"0.9em",padding:"8px"};function en(e){var t,n=e.course,r=e.prereqs;if(0===r.length)t=Object(G.jsx)(an,{});else{var c=r,a=Object(f.a)(c),s=a[0],i=a.slice(1);switch(s){case"and":t=Object(G.jsx)(rn,{clause:["and"].concat(Object(h.a)(i))});break;case"or":t=1===i.length?Object(G.jsx)(rn,{clause:i[0]}):Object(G.jsx)(G.Fragment,{children:i.map((function(e,t){return Object(G.jsx)(nn,{clause:e,index:t},t)}))});break;default:W(new B({message:"invalid operator found in top-level prereqs",fields:{courseId:n.id,operator:s,term:n.term}})),t=null}}return Object(G.jsxs)("div",{className:X("hover-container","nested"),children:[Object(G.jsx)(tn,{course:n}),Object(G.jsx)("div",{className:X("nested"),children:t})]})}function tn(e){var t=e.course,n=Object(r.useContext)(Ie),c=Object(m.a)(n,1)[0].term;return Object(G.jsx)(pe,{className:X("hover-container"),label:"Prerequisites",actions:[{icon:fe.p,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(c,"&subj_code_in=")+"".concat(t.subject,"&crse_numb_in=").concat(t.number)}]})}function nn(e){var t=e.clause,n=e.index,c=Object(r.useState)(!0),a=Object(m.a)(c,2),s=a[0],i=a[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(pe,{className:X("hover-container"),label:"Option ".concat(n+1),actions:[{icon:s?fe.c:fe.b,onClick:function(){return i(!s)}}]}),s&&Object(G.jsx)("div",{className:X("nested"),children:Object(G.jsx)(rn,{clause:t})})]})}function rn(e){var t=e.clause;if(!Array.isArray(t))return Object(G.jsx)(cn,{clause:t,operator:"and",isLast:!0});var n=Object(f.a)(t),r=n[0],c=n.slice(1);return Object(G.jsx)(G.Fragment,{children:c.map((function(e,t){return Object(G.jsx)(cn,{clause:e,operator:r,isLast:t===c.length-1},t)}))})}function cn(e){var t=e.clause,n=e.operator,r=e.isLast;return Object(G.jsxs)("div",{className:X("divider-bottom"),style:$t,children:[re(t)," ",!r&&Object(G.jsx)("strong",{children:n})]})}function an(){return Object(G.jsx)("div",{style:$t,children:"No prerequisites. You're good to go!"})}function sn(){var e=!mt(D),t=Object(r.useState)([]),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(0),i=Object(m.a)(s,2),o=i[0],l=i[1],u=Object(r.useMemo)((function(){return[c,a]}),[c,a]);return Object(G.jsxs)(G.Fragment,{children:[e&&Object(G.jsx)("div",{className:"tab-container",children:["Courses","Combinations","Calendar"].map((function(e,t){return Object(G.jsx)(he,{className:X("tab",o===t&&"active"),onClick:function(){return l(t)},children:e},e)}))}),Object(G.jsx)(Fe.Provider,{value:u,children:Object(G.jsxs)("div",{className:"main",children:[(!e||0===o)&&Object(G.jsx)(ct,{}),(!e||1===o)&&Object(G.jsx)(Ke,{}),(!e||2===o)&&Object(G.jsx)("div",{className:"calendar-container",children:Object(G.jsx)(Re,{className:"calendar",overlayCrns:c})})]})})]})}n(324);function on(e){var t,n,c,a,s=e.className,i=e.section,o=e.pinned,l=e.color,u=Object(r.useContext)(Ie),d=Object(m.a)(u,2),j=d[0],b=j.term,f=j.pinnedCrns,v=j.excludedCrns,p=d[1].patchSchedule,O=Object(r.useContext)(Fe),x=Object(m.a)(O,2)[1],g=Object(r.useState)([[],0]),y=Object(m.a)(g,2),w=y[0],C=y[1],S=!1,k=Object(r.useCallback)((function(e){p({excludedCrns:[].concat(Object(h.a)(v),[e.crn]),pinnedCrns:f.filter((function(t){return t!==e.crn}))})}),[f,v,p]),D=Object(r.useCallback)((function(e){f.includes(e.crn)?p({pinnedCrns:f.filter((function(t){return t!==e.crn}))}):p({pinnedCrns:[].concat(Object(h.a)(f),[e.crn]),excludedCrns:v.filter((function(t){return t!==e.crn}))})}),[f,v,p]),T="section-exclude-".concat(i.id);return Object(G.jsxs)(pe,{label:i.id,className:X("Section",s),onMouseEnter:function(){return x([i.crn])},onMouseLeave:function(){return x([])},actions:[{icon:o?fe.z:fe.y,onClick:function(){return D(i)}},{icon:fe.h,dataTip:!0,dataFor:i.id,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(b,"&crn_in=").concat(i.crn)},{icon:fe.d,dataTip:!0,dataFor:T,onClick:function(){return k(i)}}],style:o?{backgroundColor:l}:void 0,children:[Object(G.jsx)(_e.a,{id:T,className:"tooltip",type:"dark",place:"right",effect:"solid",children:"Exclude from Combinations"}),Object(G.jsxs)("div",{className:"section-details",children:[Object(G.jsx)("div",{className:"delivery-mode",children:null!=i.deliveryMode?N[i.deliveryMode]:""}),Object(G.jsx)("div",{className:"meeting-container",children:i.meetings.map((function(e,t){return Object(G.jsxs)("div",{className:"meeting",children:[Object(G.jsx)("span",{className:"days",children:e.days.join("")}),Object(G.jsx)("span",{className:"period",children:Y(e.period)})]},t)}))}),Object(G.jsx)(_e.a,{id:i.id,className:"tooltip",type:"dark",place:"right",effect:"solid",afterShow:function(){return S=!0,void setTimeout((function(){S&&i.fetchSeating(b).then((function(e){C(e)})).catch((function(e){return W(new B({message:"error while fetching seating",source:e,fields:{crn:i.crn,term:i.term}}))}))}),333)},afterHide:function(){S=!1},children:Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Seats Filled"})}),Object(G.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(t=w[0][1])&&void 0!==t?t:"<unknown>"," of ").concat(null!==(n=w[0][0])&&void 0!==n?n:"<unknown>"):"N/A"})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Waitlist Filled"})}),Object(G.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(c=w[0][3])&&void 0!==c?c:"<unknown>"," of ").concat(null!==(a=w[0][2])&&void 0!==a?a:"<unknown>"):"N/A"})]})]})})})]})]})}n(325);function ln(e){var t=e.label,n=e.active,r=void 0!==n&&n,c=e.onClick,a=e.className,s=e.style;return Object(G.jsx)("button",{className:X("Tab",r&&"active",a),style:s,onClick:c,type:"button",children:t})}n(326);function un(){var e=!mt(D);return Object(G.jsx)("div",{className:X("Attribution"),children:Object(G.jsxs)("p",{children:["Copyright (c) 2021 with"," ",Object(G.jsx)("span",{role:"img","aria-label":"love",children:"\u2764\ufe0f"})," ","by ",Object(G.jsx)("a",{href:"https://jasonpark.me",children:"Jinseo Park"}),","," ",Object(G.jsx)("a",{href:"https://bitsofgood.org",children:"Bits of Good"}),", and"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/website/graphs/contributors",children:e?"others":"the GT Scheduler contributors"}),"."]})})}n(327);function dn(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(null),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(""),f=Object(m.a)(b,2),h=f[0],v=f[1],p=Object(r.useState)(!1),O=Object(m.a)(p,2),x=O[0],g=O[1];return Object(G.jsxs)(G.Fragment,{children:[!n&&Object(G.jsx)("div",{className:"FeedbackButtonWrapper",children:Object(G.jsx)(he,{className:"FeedbackButton",onClick:function(){return c(!0)},children:Object(G.jsx)(be.a,{icon:fe.j,size:"2x"})})}),n&&Object(G.jsx)("div",{children:Object(G.jsx)("form",{className:"FeedbackForm",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(be.a,{icon:fe.z,className:"CloseIcon",onClick:function(){return c(!1)}}),Object(G.jsx)("h3",{className:"FeedbackTitle",children:"Feedback"}),!i&&Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:"text",children:"How would you rate your experience?"}),Object(G.jsx)("div",{className:"FormButtons",children:[1,2,3,4,5].map((function(e){return Object(G.jsx)(he,{className:X("FormButton",d===e-1&&"active"),onClick:function(){return j(e-1)},children:e},e)}))}),Object(G.jsxs)("div",{className:"ScoreLabels",children:[Object(G.jsx)("span",{className:"score",style:{marginLeft:"4px"},children:"Poor"}),Object(G.jsx)("span",{className:"score",style:{marginRight:"4px"},children:"Great"})]}),Object(G.jsx)("textarea",{className:"FeedbackTextArea",placeholder:"Please let us know if you have any more feedback!",onChange:function(e){return v(e.target.value)},value:h}),Object(G.jsx)(he,{className:"SubmitButton",onClick:function(){g(!0),function(e){return jn.apply(this,arguments)}({rating:(null!==d&&void 0!==d?d:0)+1,feedback:h}).then((function(){o(!0),g(!1)})).catch((function(){o(!0),g(!1)}))},disabled:null==d||x,children:"Submit"})]}),i&&Object(G.jsxs)("div",{className:"submitted",children:[Object(G.jsx)("p",{className:"submitted-thanks text",children:Object(G.jsx)("span",{children:"Thank you for your feedback!"})}),Object(G.jsx)("div",{children:Object(G.jsx)(he,{className:"SubmitButton",onClick:function(){return c(!1)},children:"Close"})})]})]})})})]})}function jn(){return(jn=Object(b.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rating,r=t.feedback,c="".concat(k,"/feedback"),e.next=4,je()({method:"post",url:c,data:{rating:n,feedback:r},headers:{"Content-Type":"application/json;charset=UTF-8"}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bn=function(e){Object(I.a)(n,e);var t=Object(F.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).state={error:null,info:null},r}return Object(A.a)(n,[{key:"componentDidCatch",value:function(e,t){W(new B({message:"ErrorBoundary caught error from further in render tree",source:e,fields:{reactErrorInfo:t}})),this.setState({info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback,r=this.state,c=r.error,a=r.info;return null!==c?null!=n?Object(G.jsx)(G.Fragment,{children:n(c,a)}):null:Object(G.jsx)(G.Fragment,{children:t})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e,info:null}}}]),n}(c.a.Component);function fn(e){var t=e.name,n=e.children,r=e.style,c=e.className;return Object(G.jsxs)("div",{className:X(c,"error-details-field"),style:r,children:[Object(G.jsx)("strong",{children:t}),": ",n]})}function hn(e){var t=e.error,n=e.errorInfo;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(vn,{error:t}),null!==n&&Object(G.jsx)(fn,{name:"Component stacktrace",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:n.componentStack.replace(/^[\n\r]+/,"")})})})]})}function mn(e){var t=e.error,n=e.overview,r=e.name;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(vn,{error:t}),Object(G.jsxs)(fn,{name:"Operation name",children:["(loading) ",r]}),Object(G.jsx)(fn,{name:"Overview",children:n})]})}function vn(e){var t,n=e.error;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(fn,{name:"Name",children:n.name}),Object(G.jsx)(fn,{name:"Message",children:n.message}),Object(G.jsx)(fn,{name:"Version",children:"9b67b0f2148b04e1aa60b96e8f8823133787df11"}),n instanceof B&&Object(G.jsx)(fn,{name:"Fields",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:Object.entries(n.getAllFields()).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return"    ".concat(n,": ").concat(R()(r))})).join("\n")})})}),Object(G.jsx)(fn,{name:"Stacktrace",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:null!==(t=n.stack)&&void 0!==t?t:"~"})})})]})}n(328);function pn(e){var t=e.children,n=e.label,c=void 0===n?"Details":n,a=e.className,s=e.style,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(G.jsxs)("div",{className:X("expandable-card",a),style:s,children:[Object(G.jsxs)("button",{className:"expandable-card-button",onClick:function(){return u(!l)},type:"button",children:[Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g,style:{transform:l?"rotate(-90deg)":"none",marginRight:8}}),c]}),l&&t]})}n(329);function On(e){var t=e.errorDetails,n=e.children;return Object(G.jsxs)("div",{className:"error-display-outer",children:[n,Object(G.jsxs)("div",{children:["If the issue keeps happening, please consider filing"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/website/issues/new?assignees=&labels=bug&template=bug-report----.md&title=",target:"_blank",rel:"noreferrer noopener",children:"a new issue on the gt-scheduler GitHub"}),", and include the information below under \u201cError Details\u201d in addition to what you were doing when the error occurred."]}),Object(G.jsx)("div",{children:"The error has already been logged, but filing an issue lets you provide more information about what happened and makes it a lot easier for us to fix the bug. Thanks \u2764"}),Object(G.jsx)(pn,{label:"Error Details",children:t})]})}n(330);function xn(){return Object(G.jsxs)("div",{className:"error-header",children:[Object(G.jsx)(be.a,{icon:fe.n}),Object(G.jsx)("h4",{children:"An error occurred :("})]})}var gn=["Scheduler","Map","Finals"],yn=c.a.createContext({currentTabIndex:0,setTabIndex:function(){throw new B({message:"empty AppNavigationContext.setTabIndex value being used"})},isDrawerOpen:!1,openDrawer:function(){throw new B({message:"empty AppNavigationContext.openDrawer value being used"})},closeDrawer:function(){throw new B({message:"empty AppNavigationContext.closeDrawer value being used"})}});function wn(e){var t=e.children,n=!mt(D),c=Object(r.useState)(0),a=Object(m.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(){return d(!0)}),[]),b=Object(r.useCallback)((function(){return d(!1)}),[]);Object(r.useEffect)((function(){u&&!n&&d(!1)}),[u,n]);var f=Object(r.useMemo)((function(){return{currentTabIndex:s,setTabIndex:i,isDrawerOpen:u,openDrawer:j,closeDrawer:b}}),[s,i,u,j,b]);return Object(G.jsx)(yn.Provider,{value:f,children:t})}function Cn(e){var t=Bt(e.captureRef);return Object(G.jsx)(Nn,Object(d.a)({},t))}function Nn(e){var t=e.onCopyCrns,n=void 0===t?function(){}:t,c=e.enableCopyCrns,a=void 0!==c&&c,s=e.onExportCalendar,i=void 0===s?function(){}:s,o=e.enableExportCalendar,l=void 0!==o&&o,u=e.onDownloadCalendar,d=void 0===u?function(){}:u,j=e.enableDownloadCalendar,b=void 0!==j&&j,f=e.accountState,h=void 0===f?{type:"loading"}:f,m=!mt(D),v=mt(600),p=Object(r.useContext)(yn),O=p.currentTabIndex,x=p.setTabIndex,g=p.isDrawerOpen,y=p.closeDrawer;return m?Object(G.jsxs)(Qt,{open:g,onClose:y,children:[!v&&Object(G.jsx)(Ft,{accountState:h,onCopyCrns:n,enableCopyCrns:a,onExportCalendar:i,enableExportCalendar:l,onDownloadCalendar:d,enableDownloadCalendar:b}),Object(G.jsx)(Xt,{items:gn,currentItem:O,onChangeItem:x})]}):null}var Sn=n(29);var kn="https://gt-scheduler.github.io/crawler/index.json";n(331);function Dn(e){var t,n=e.state,r=e.name;if("loading"===n.type)t=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ut,{size:"normal",style:{opacity:.6}}),Object(G.jsx)("h4",{children:"Loading"}),Object(G.jsx)("div",{children:r})]});else{if("custom"===n.type)return Object(G.jsx)(G.Fragment,{children:n.contents});t=n.stillLoading?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ut,{size:"normal",style:{opacity:.6}}),Object(G.jsx)("h4",{children:"Loading"}),Object(G.jsxs)(On,{errorDetails:Object(G.jsx)(mn,{error:n.error,overview:n.overview,name:r}),children:[Object(G.jsxs)("div",{children:["An error ocurred while loading ",r,": ",n.overview]}),Object(G.jsx)("div",{children:"The application is retrying in the background, so the issue may resolve itself. If it doesn't, try refreshing the page."})]})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(xn,{}),Object(G.jsxs)(On,{errorDetails:Object(G.jsx)(mn,{error:n.error,overview:n.overview,name:r}),children:[Object(G.jsxs)("div",{children:["An unrecoverable error ocurred while loading ",r,":"," ",n.overview]}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})}return Object(G.jsx)("div",{className:"loading-display",children:t})}n(332);function Tn(){var e=Object(r.useContext)(Ie),t=Object(m.a)(e,1)[0],n=t.pinnedCrns,c=t.oscar,a={},s=function e(t,n,r,c,a){n.has(r)||(n.add(r),t.filter((function(e){return e.period.start<c.end&&e.period.end>c.start})).forEach((function(r){r.rowSize=a,e(t,n,r.crn,r.period,a)})))},i=Array.from(new Set(Object(h.a)(n))),o=function(e){var t=c.findSection(e);return null==t?0:Math.max.apply(Math,Object(h.a)(t.meetings.flatMap((function(e){var t=e.period;return null==t?[]:[t.end-t.start]}))))};return i.sort((function(e,t){return o(e)-o(t)})),i.forEach((function(e){var t=c.findSection(e);null!=t&&t.meetings.filter((function(e){return e.finalTime})).forEach((function(t){var n=t.finalTime,r=t.finalDate;if(null!==n&&null!==r){var c=r.toDateString(),i=Object.values(a).flatMap((function(e){var t;return null!=e?Object.values(null!==(t=e[c])&&void 0!==t?t:{}):[]})).flatMap((function(e){return null==e?[]:[e]})),o=i.filter((function(e){return e.period.start<n.end&&e.period.end>n.start})).reduce((function(e,t){return Math.max(e,t.rowSize+1)}),1);s(i,new Set,e,n,o);var l=a[e]||{};a[e]=l;var u=l[c]||{};l[c]=u,u[st(n)]={period:n,crn:e,rowIndex:o-1,rowSize:o}}}))})),0===c.finalDates.length?Object(G.jsxs)("div",{className:"FinalsEmptyContainer",children:[Object(G.jsx)("h2",{className:"FinalsEmpty",children:"Finals Schedule not available for this semester"}),Object(G.jsxs)("p",{className:"FinalsEmpty",children:["Find out more about updating it"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/crawler#updating-the-list-of-finals-pdfs",children:"here"})]})]}):Object(G.jsxs)("div",{className:"FinalsContainer",children:[Object(G.jsx)("div",{className:"times",children:new Array(13).fill(0).map((function(e,t){var n=y+60*t;return Object(G.jsx)("div",{className:"time",children:Object(G.jsx)("span",{className:"label",children:U(n)})},n)}))}),Object(G.jsx)("div",{className:"days",children:c.finalDates.map((function(e){return Object(G.jsx)("div",{className:"day",children:Object(G.jsx)("span",{className:"label",children:e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})},e.toLocaleString())}))}),Object(G.jsx)("div",{className:"meetings",children:n.map((function(e){var t;return Object(G.jsx)(it,{crn:e,sizeInfo:null!==(t=a[e])&&void 0!==t?t:{}},e)}))})]})}function En(){var e=Object(r.useContext)(yn),t=e.currentTabIndex,n=e.setTabIndex,c=e.openDrawer,a=Object(r.useRef)(null);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Cn,{captureRef:a}),Object(G.jsx)(Wt,{currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:gn,captureRef:a}),Object(G.jsxs)(bn,{fallback:function(e,n){var r;return Object(G.jsxs)(In,{children:[Object(G.jsx)(xn,{}),Object(G.jsxs)(On,{errorDetails:Object(G.jsx)(hn,{error:e,errorInfo:n}),children:[Object(G.jsxs)("div",{children:["There was en error somewhere somewhere in the"," ",null!==(r=gn[t])&&void 0!==r?r:"?"," tab and it can't continue."]}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})},children:[0===t&&Object(G.jsx)(sn,{}),1===t&&Object(G.jsx)(Kt,{}),2===t&&Object(G.jsx)(Tn,{}),Object(G.jsx)("div",{className:"capture-container",ref:a,children:Object(G.jsx)(Re,{className:"fake-calendar",capture:!0,overlayCrns:[]})})]}),Object(G.jsx)(un,{})]})}var An=c.a.memo(En);function Mn(e){var t=e.children,n=e.accountState,c=e.termsState,a=Object(r.useContext)(yn),s=a.currentTabIndex,i=a.setTabIndex,o=a.openDrawer;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Nn,{}),Object(G.jsx)(_t,{currentTab:s,onChangeTab:i,onToggleMenu:o,tabs:gn,accountState:null!==n&&void 0!==n?n:{type:"loading"},termsState:null==c?{type:"loading"}:Object(d.a)({type:"loaded"},c),versionsState:{type:"loading"}}),t,Object(G.jsx)(un,{})]})}function In(e){var t=e.children;return Object(G.jsx)("div",{className:X("main","skeleton"),children:Object(G.jsx)("div",{className:"skeleton-content",children:Object(G.jsx)("div",{className:"skeleton-content-inner",children:t})})})}var Fn=n(106);n(333);function _n(){return Object(G.jsxs)("div",{className:"warning-header",children:[Object(G.jsx)(be.a,{icon:fe.m}),Object(G.jsx)("h4",{children:"Warning"})]})}n(334);function Vn(e){var t=e.onAccept;return Object(G.jsxs)("div",{className:"data-not-persistent-notification",children:[Object(G.jsx)(_n,{}),Object(G.jsx)("p",{children:"Your browser doesn't support storing data using local storage, which gt-scheduler relies on to persist schedule data between sessions."}),Object(G.jsx)("p",{children:"Reasons this might be the case:"}),Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"You're using an outdated browser that doesn't support local storage"}),Object(G.jsx)("li",{children:"You're using Mobile Safari with private mode enabled"}),Object(G.jsx)("li",{children:"You're using Safari with cookies disabled"})]}),Object(G.jsx)("p",{children:Object(G.jsx)("strong",{children:"Would you like to continue using gt-scheduler? Your schedules will not be saved once you close this tab."})}),Object(G.jsx)("button",{className:"data-not-persistent-notification--button",onClick:t,type:"button",children:"Accept"})]})}var Ln="schedule-data";function Rn(e,t){return""!==e&&"undefined"!==e&&t.includes(e)}var Pn=n(105),Bn=n.n(Pn);function Wn(e){var t={version:2,terms:{}};return Object.entries(e.terms).forEach((function(e){var n=Object(m.a)(e,2),r=n[0],c=n[1],a=new Date,s={versions:{}},i=c.versions.map((function(e,t){var n=Me(),r=function(e){return new Date(a.getTime()+1e3*e)}(t);return[n,{name:e.name,createdAt:r.toISOString(),schedule:e.schedule}]}));s.versions=Object.fromEntries(i),t.terms[r]=s})),t}var zn={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};var Gn=function(e){return null!=e&&Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))};function qn(e,t){try{if(null==e||"object"!==typeof e||Array.isArray(e))return{type:"error",fallback:zn,errors:[new B({message:"term data is the wrong type",fields:{rawTermData:t,termDataType:typeof e,termData:e}})]};var n=Object(d.a)({},zn),r=e,c=[],a=r.desiredCourses,s=r.pinnedCrns,i=r.excludedCrns,o=r.colorMap,l=r.sortingOptionIndex;return Gn(a)?n.desiredCourses=a:c.push(new B({message:"termData.desiredCourses was not a string array",fields:{rawTermData:t,termData:e,desiredCourses:a,fallback:n.desiredCourses}})),Gn(s)?n.pinnedCrns=s:c.push(new B({message:"termData.pinnedCrns was not a string array",fields:{rawTermData:t,termData:e,pinnedCrns:s,fallback:n.pinnedCrns}})),Gn(i)?n.excludedCrns=i:c.push(new B({message:"termData.excludedCrns was not a string array",fields:{rawTermData:t,termData:e,excludedCrns:i,fallback:n.excludedCrns}})),"object"===typeof(u=o)&&null!=u&&Object.keys(u).every((function(e){return"string"===typeof e}))&&Object.values(u).every((function(e){return"string"===typeof e}))?n.colorMap=o:c.push(new B({message:"termData.colorMap was not a string/string map",fields:{rawTermData:t,termData:e,colorMap:o,fallback:n.colorMap}})),"number"===typeof l?n.sortingOptionIndex=l:c.push(new B({message:"termData.sortingOptionIndex was not a number",fields:{rawTermData:t,termData:e,sortingOptionIndex:l,fallback:n.sortingOptionIndex}})),c.length>0?{type:"error",fallback:n,errors:c}:{type:"valid",termData:n}}catch(j){return j instanceof Error?{type:"error",fallback:zn,errors:[new B({message:"an unexpected error occurred when parsing term data",source:j,fields:{rawTermData:t}})]}:{type:"error",fallback:zn,errors:[new B({message:"an unexpected error occurred when parsing term data",fields:{rawTermData:t,originalError:j}})]}}var u}var Hn={terms:{},currentTerm:"",version:1};function Un(e){var t,n=null!==(t=e.term)&&void 0!==t?t:"",r=Math.floor(1e5*Math.random()),c={};return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];if(ot(n)){var s=function(e){if(""===e||"undefined"===e)return{type:"error",error:new B({message:'raw term data was empty or "undefined"',fields:{rawTermData:e}})};try{return{type:"parsed",parsed:JSON.parse(e)}}catch(t){return{type:"error",error:new B({message:"raw term data was not valid JSON data",source:t,fields:{rawTermData:e}})}}}(a);if("error"===s.type)return void W(new B({message:"parsing error for guessed term data when migrating",source:s.error,fields:{cookieKey:n,cookieValue:a,userNumber:r}}));var i=qn(s.parsed,a);"error"===i.type?(i.errors.forEach((function(e){W(new B({message:"validation error for guessed term data when migrating",source:e,fields:{cookieKey:n,cookieValue:a,userNumber:r}}))})),c[n]={versions:[{name:"Primary",schedule:i.fallback}],currentIndex:0}):c[n]={versions:[{name:"Primary",schedule:i.termData}],currentIndex:0}}})),{terms:c,currentTerm:n,version:1}}function Yn(e){var t;if(null===e)try{t=Un(Bn.a.get())}catch(n){W(new B({source:n,message:"an error occurred when sourcing schedule data from cookies"})),t=Hn}else t=e;return 1===t.version?Wn(t):t}var Jn={currentTerm:"",versionStates:{}};function Kn(){var e,t,n=function(e,t){var n=Object(r.useState)((function(){var n=null;try{return(n=window.localStorage.getItem(e))?JSON.parse(n):t}catch(r){return W(new B({message:"useLocalStorageNoSync load local storage failed",source:r,fields:{key:e}})),t}})),c=Object(m.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){W(new B({message:"useLocalStorageNoSync setValue call failed",source:r,fields:{key:e}}))}}]}("ui-state",Jn),c=Object(m.a)(n,2),a=c[0],s=a.currentTerm,i=a.versionStates,o=c[1];return{currentTerm:s,setTerm:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{currentTerm:e})}))}),[o]),currentVersion:null!==(e=null===(t=i[s])||void 0===t?void 0:t.currentVersion)&&void 0!==e?e:"",setVersion:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{versionStates:Object(d.a)(Object(d.a)({},t.versionStates),{},Object(Qe.a)({},t.currentTerm,{currentVersion:e}))})}))}),[o])}}function Qn(e){var t=Object(r.useState)({type:"loading"}),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),i=Object(m.a)(s,2),o=i[0],l=i[1];Object(r.useEffect)((function(){if(yt){var t=Nt.doc(e.id).onSnapshot({includeMetadataChanges:!1},(function(e){var t=e.data();a(null==t?{type:"nonExistant"}:{type:"exists",data:e.data()})}));return function(){return t()}}}),[e.id]);var d=Object(r.useCallback)((function(t){var n;"function"===typeof t?n=t("exists"===c.type?c.data:null):n=t;null!==n&&(a({type:"exists",data:n}),Nt.doc(e.id).set(n).catch((function(t){W(new B({message:"error when updating remote document",source:t,fields:{accountId:e.id}}))})))}),[e.id,c]);return Object(r.useEffect)((function(){if(yt&&"nonExistant"===c.type){var t;try{var n;t=null!==(n=function(){var e=function(){var e=window.localStorage.getItem(Ln);return null===e?null:JSON.parse(e)}();return null===e?null:Yn(e)}())&&void 0!==n?n:Te}catch(r){W(new B({message:"failed to imperatively get current schedule data during account seeding",source:r,fields:{accountId:e.id}})),t=Te}Ct.runTransaction(function(){var n=Object(b.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.get(Nt.doc(e.id));case 2:if(!n.sent.exists){n.next=5;break}return n.abrupt("return");case 5:r.set(Nt.doc(e.id),Object(Sn.a)(t));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){var n=new B({message:"an error occurred while initializing account schedule data",source:t,fields:{account:e.id}});W(n),l({type:"error",error:n,stillLoading:!1,overview:String(t)})}))}}),[e.id,c.type]),yt?null!==o?o:"loading"===c.type||"nonExistant"===c.type?{type:"loading"}:{type:"loaded",result:{rawScheduleData:Object(Sn.b)(c.data),setRawScheduleData:d}}:{type:"error",error:new B({message:"cannot obtain data from firebase: authentication is disabled"}),stillLoading:!1,overview:"authentication is not enabled"}}function Xn(e){var t=e.children,n=Kn();return Object(G.jsx)(G.Fragment,{children:t(Object(d.a)({},n))})}function Zn(e){var t=e.skeletonProps,n=e.terms,c=e.currentTermRaw,a=e.setTerm,s=e.children,i=function(e){var t=e.terms,n=e.setTerm,c=e.currentTermRaw;return Object(r.useEffect)((function(){var e=t[0],r=Rn(c,t)?c:e;r!==c&&n(r)}),[c,t,n]),Rn(c,t)?{type:"loaded",result:{currentTerm:c}}:{type:"loading"}}({terms:n,currentTermRaw:c,setTerm:a});return"loaded"!==i.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:i,name:"current term"})})})):Object(G.jsx)(G.Fragment,{children:s(Object(d.a)({},i.result))})}function $n(e){var t=e.skeletonProps,n=e.children,c=function(){var e,t=Object(Fn.a)(Ln,null),n=Object(m.a)(t,3),c=n[0],a=n[1],s=n[2].isPersistent,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return s||l?{type:"loaded",result:{rawScheduleData:c,setRawScheduleData:a}}:{type:"custom",contents:(e={onAccept:function(){u(!0)}},Object(G.jsx)(Vn,Object(d.a)({},e)))}}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:c,name:"local schedule data"})})})):Object(G.jsx)(G.Fragment,{children:n(Object(d.a)({},c.result))})}function er(e){var t=e.skeletonProps,n=e.rawScheduleData,c=e.setRawScheduleData,a=e.children,s=function(e){var t=e.rawScheduleData,n=e.setRawScheduleData,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];Object(r.useEffect)((function(){if(null===t||2!==t.version){if(null!==t&&t.version>2){var e=new B({message:"schedule data version is greater than max supported version",fields:{version:t.version,maxSupportedVersion:2}});return W(e),void i({type:"error",error:e,stillLoading:!1,overview:"could not load stored schedule data: unknown format"})}try{var r=Yn(t);n(r)}catch(e){var c=new B({source:e,message:"an error occurred when loading schedule data"});W(c),i({type:"error",error:c,stillLoading:!1,overview:"could not convert stored schedule data to latest version"})}}}),[t,n]);var o=Object(r.useCallback)((function(e){n("function"!==typeof e?e:function(t){var n;return null===t||2!==t.version?(W(new B({message:"setScheduleData called when schedule data isn't fully migrated",fields:{versionOrNull:null!==(n=null===t||void 0===t?void 0:t.version)&&void 0!==n?n:null}})),t):e(t)})}),[n]);return null!==s?s:null===t||2!==t.version?{type:"loading"}:{type:"loaded",result:{scheduleData:t,setScheduleData:o}}}({rawScheduleData:Object(Sn.a)(n),setRawScheduleData:c});return"loaded"!==s.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:s,name:"schema migrations to schedule data"})})})):Object(G.jsx)(G.Fragment,{children:a(Object(d.a)({},s.result))})}function tr(e){var t=e.skeletonProps,n=e.accountState,r=e.children;return"signedIn"===n.type?Object(G.jsx)(nr,{skeletonProps:t,accountState:n,children:r}):Object(G.jsx)($n,{skeletonProps:t,children:r})}function nr(e){var t=e.skeletonProps,n=e.accountState,r=e.children,c=Qn(n);return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:c,name:"schedule data from the cloud"})})})):Object(G.jsx)(G.Fragment,{children:r(Object(d.a)({},c.result))})}function rr(e){var t=e.skeletonProps,n=e.children,c=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){if(yt){var e=xt.a.auth().onAuthStateChanged((function(e){if(null===e)c({type:"signedOut"});else{var t=null;if(null!=e.providerData){var n=e.providerData[0];null!=n&&(t=n.providerId)}c({type:"signedIn",name:e.displayName,email:e.email,id:e.uid,provider:t,signOut:function(){xt.a.auth().signOut().catch((function(e){W(new B({message:"call to firebase.auth().signOut() failed",source:e}))}))}})}}));return function(){return e()}}}),[]),yt?null===n?{type:"loading"}:{type:"loaded",result:n}:{type:"loaded",result:{type:"signedOut"}}}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:c,name:"account"})})})):Object(G.jsx)(G.Fragment,{children:n({accountState:c.result})})}function cr(e){var t=e.setScheduleData,n=e.children,c=function(e){var t=e.setScheduleData;return{updateScheduleData:Object(r.useCallback)((function(e){return t((function(t){return Object(Sn.c)(t,e)}))}),[t])}}({setScheduleData:t}).updateScheduleData;return Object(G.jsx)(G.Fragment,{children:n({updateScheduleData:c})})}function ar(e){var t=e.skeletonProps,n=e.children,c=function(){var e=Object(r.useState)({type:"loading"}),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=new Ze;function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,r,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1;case 1:if(e.isCancelled){t.next=25;break}return t.prev=2,r=je.a.get(kn),t.next=6,e.perform(r);case 6:if(!(a=t.sent).cancelled){t.next=9;break}return t.abrupt("return");case 9:if(0!==(s=a.value.data.terms.sort().reverse()).length){t.next=12;break}throw new B({message:"fetched list of terms is empty; cannot continue"});case 12:return c({type:"loaded",result:s}),t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(2),ce(t.t0)||W(new B({message:"error fetching list of terms",source:t.t0,fields:{url:kn}})),c({type:"error",error:t.t0 instanceof Error?t.t0:new B({message:"an error occurred while fetching terms",source:t.t0}),stillLoading:!0,overview:String(t.t0)});case 20:return t.next=22,ae(n);case 22:n+=1,t.next=1;break;case 25:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch((function(){})),function(){e.cancel()}}),[c]),n}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:c,name:"list of current terms"})})})):Object(G.jsx)(G.Fragment,{children:n({terms:c.result})})}function sr(e){var t=e.skeletonProps,n=e.currentTerm,c=e.scheduleData,a=e.updateScheduleData,s=e.children,i=function(e){var t=e.currentTerm,n=e.scheduleData,c=e.updateScheduleData;Object(r.useEffect)((function(){var e=n.terms[t],r=void 0===e?Ee:e;r!==e&&c((function(e){e.terms[t]=Object(Sn.a)(r)}))}),[t,n.terms,c]);var a=n.terms[t],s=Object(r.useCallback)((function(e){c((function(n){var r=n.terms[t];void 0!==r?n.terms[t]=Object(Sn.c)(r,(function(t){return Object(Sn.a)(e(t))})):W(new B({message:"updateTermScheduleData called on term that does not exist",fields:{currentTerm:t,currentTermScheduleData:a,allTermsInData:Object.keys(n.terms)}}))}))}),[t,a,c]);return void 0===a?{type:"loading"}:{type:"loaded",result:{termScheduleData:a,updateTermScheduleData:s}}}({currentTerm:n,scheduleData:c,updateScheduleData:a});return"loaded"!==i.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:i,name:"schedule data for the current term"})})})):Object(G.jsx)(G.Fragment,{children:s(Object(d.a)({},i.result))})}function ir(e){var t=e.skeletonProps,n=e.term,c=e.children,a=function(e){var t=Object(r.useState)({type:"loading"}),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new Ze,n=function(e){return"https://gt-scheduler.github.io/crawler/".concat(e,".json")}(e);function r(){return(r=Object(b.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(t.isCancelled){e.next=15;break}return e.next=4,c({initialLoad:n});case 4:if(!t.isCancelled){e.next=6;break}return e.abrupt("return");case 6:return r=ie({amount_ms:9e5}),e.next=9,t.perform(r);case 9:if(!e.sent.cancelled){e.next=12;break}return e.abrupt("return");case 12:n=!1,e.next=1;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=Object(b.a)(u.a.mark((function r(c){var i,o,l,d,j,b,f;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(i=c.initialLoad)&&a({type:"loading"}),o=1;case 3:if(t.isCancelled){r.next=29;break}return r.prev=4,d=je.a.get(n),r.next=8,t.perform(d);case 8:if(!(j=r.sent).cancelled){r.next=11;break}return r.abrupt("return");case 11:if(b=j.value.data,null===s.current||new Date(b.updatedAt).getTime()!==(null===(l=s.current)||void 0===l?void 0:l.updatedAt.getTime())){r.next=14;break}return r.abrupt("return");case 14:return f=new ke(b,e),a({type:"loaded",result:f}),s.current=f,r.abrupt("return");case 20:r.prev=20,r.t0=r.catch(4),ce(r.t0)||W(new B({message:"error fetching crawler data",source:r.t0,fields:{term:e,url:n}})),i&&a({type:"error",error:r.t0 instanceof Error?r.t0:new B({message:"an error occurred while fetching crawler data",source:r.t0}),stillLoading:!0,overview:String(r.t0)});case 24:return r.next=26,ae(o);case 26:o+=1,r.next=3;break;case 29:case"end":return r.stop()}}),r,null,[[4,20]])})))).apply(this,arguments)}return function(){return r.apply(this,arguments)}().catch((function(t){W(new B({message:"error loading and refreshing oscar data",source:t,fields:{term:e,url:n}}))})),function(){t.cancel()}}),[e,a]),"loaded"===c.type&&c.result.term!==e?{type:"loading"}:c}(n);return"loaded"!==a.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:a,name:"Oscar course data for the current term"})})})):Object(G.jsx)(G.Fragment,{children:c({oscar:a.result})})}function or(e){var t=e.skeletonProps,n=e.currentVersionRaw,c=e.setVersion,a=e.termScheduleData,s=e.updateTermScheduleData,i=e.children,o=function(e){var t,n=e.termScheduleData,c=e.updateTermScheduleData,a=e.currentVersionRaw,s=e.setVersion,i=null!==(t=n.versions[a])&&void 0!==t?t:null;Object(r.useEffect)((function(){null===i&&c((function(e){if(null==e.versions[a])if(0===Object.keys(e.versions).length){var t=Me();e.versions[t]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(Sn.a)(Ae)},s(t)}else{var n,r=Object.entries(e.versions).sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return ue(n.createdAt,r.createdAt)}));s(null===(n=r[0])||void 0===n?void 0:n[0])}}))}),[a,i,c,s]);var o=Object(r.useCallback)((function(e){c((function(t){var n,r=null!==(n=t.versions[a])&&void 0!==n?n:null;null!==r?t.versions[a]=Object(Sn.c)(r,(function(t){return Object(Sn.a)(e(t))})):W(new B({message:"updateScheduleVersion called with invalid current schedule version; ignoring",fields:{currentVersionRaw:a,currentScheduleVersion:null}}))}))}),[c,a]);return null===i?{type:"loading"}:{type:"loaded",result:{currentVersion:a,scheduleVersion:i,updateScheduleVersion:o}}}({termScheduleData:a,updateTermScheduleData:s,currentVersionRaw:n,setVersion:c});return"loaded"!==o.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(In,{children:Object(G.jsx)(Dn,{state:o,name:"current schedule version"})})})):Object(G.jsx)(G.Fragment,{children:i(Object(d.a)({},o.result))})}function lr(e){var t=e.children;return Object(G.jsx)(Xn,{children:function(e){var n=e.currentTerm,r=e.setTerm,c=e.currentVersion,a=e.setVersion;return Object(G.jsx)(ar,{children:function(e){var s=e.terms;return Object(G.jsx)(Zn,{terms:s,setTerm:r,currentTermRaw:n,children:function(e){var n=e.currentTerm,i={terms:s,onChangeTerm:r,currentTerm:n};return Object(G.jsx)(rr,{skeletonProps:{termsState:i},children:function(e){var o=e.accountState;return Object(G.jsx)(ur,{accountState:o,skeletonProps:{termsState:i,accountState:o},children:function(e){var l=e.scheduleData,u=e.updateScheduleData;return Object(G.jsx)(sr,{skeletonProps:{termsState:i,accountState:o},currentTerm:n,scheduleData:l,updateScheduleData:u,children:function(e){var l=e.termScheduleData,u=e.updateTermScheduleData;return Object(G.jsx)(ir,{skeletonProps:{termsState:i,accountState:o},term:n,children:function(e){var d=e.oscar;return Object(G.jsx)(or,{skeletonProps:{termsState:i,accountState:o},currentVersionRaw:c,setVersion:a,termScheduleData:l,updateTermScheduleData:u,children:function(e){var c=e.currentVersion,i=e.scheduleVersion,j=e.updateScheduleVersion;return Object(G.jsx)(dr,{terms:s,currentTerm:n,setTerm:r,currentVersion:c,setVersion:a,oscar:d,scheduleVersion:i,updateScheduleVersion:j,termScheduleData:l,updateTermScheduleData:u,accountState:o,children:t})}})}})}})}})}})}})}})}})}function ur(e){var t=e.skeletonProps,n=e.accountState,r=e.children;return Object(G.jsx)(tr,{skeletonProps:t,accountState:n,children:function(e){var n=e.rawScheduleData,c=e.setRawScheduleData;return Object(G.jsx)(er,{skeletonProps:t,rawScheduleData:n,setRawScheduleData:c,children:function(e){var t=e.scheduleData,n=e.setScheduleData;return Object(G.jsx)(cr,{setScheduleData:n,children:function(e){var n=e.updateScheduleData;return Object(G.jsx)(G.Fragment,{children:r({scheduleData:t,updateScheduleData:n})})}})}})}})}function dr(e){var t=e.terms,n=e.currentTerm,c=e.setTerm,a=e.currentVersion,s=e.setVersion,i=e.oscar,o=e.scheduleVersion,l=e.updateScheduleVersion,u=e.termScheduleData,j=e.updateTermScheduleData,b=e.accountState,f=e.children,h=Object(r.useCallback)((function(e){l((function(t){t.schedule=Object(Sn.c)(t.schedule,(function(t){return Object(Sn.a)(e(t))}))}))}),[l]),v=Object(r.useCallback)((function(e){h((function(t){var n;return Object(d.a)(Object(d.a)({},null!==(n=Object(Sn.d)(t))&&void 0!==n?n:Ae),e)}))}),[h]),p=Object(r.useMemo)((function(){var e=Object.entries(u.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}}));return e.sort((function(e,t){var n,r,c,a;return ue(null!==(n=null===(r=u.versions[e.id])||void 0===r?void 0:r.createdAt)&&void 0!==n?n:"",null!==(c=null===(a=u.versions[t.id])||void 0===a?void 0:a.createdAt)&&void 0!==c?c:"")})),e}),[u.versions]),O=function(e){var t=e.updateTermScheduleData,n=e.setVersion,c=e.currentVersion,a=Object(r.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Me();return t((function(t){t.versions[c]={name:e,schedule:Object(Sn.a)(Ae),createdAt:(new Date).toISOString()}})),r&&n(c),c}),[t,n]),s=Object(r.useCallback)((function(e){t((function(t){if(null!=t.versions[e])if(c===e){var r,a,s=Object.entries(t.versions);if(delete t.versions[e],0===s.length||0===Object.keys(t.versions).length){var i=Me();return t.versions[i]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(Sn.a)(Ae)},void n(i)}var o=s.sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return n.createdAt>r.createdAt?0:1})),l=o.findIndex((function(t){return Object(m.a)(t,1)[0]===e}));if(-1===l)return;var u=Math.max(l-1,0);n(null!==(r=null===(a=o[u])||void 0===a?void 0:a[0])&&void 0!==r?r:"")}else delete t.versions[e];else W(new B({message:"deleteVersion called with non-existent version id; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),versionCount:Object.keys(t.versions).length,id:e}}))}))}),[t,n,c]),i=Object(r.useCallback)((function(e,n){t((function(t){var r=t.versions[e];void 0!==r?r.name=n:W(new B({message:"renameVersion called with current version name that doesn't exist; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),id:e,versionCount:Object.keys(t.versions).length,newName:n}}))}))}),[t]),o=Object(r.useCallback)((function(e,n){var r=a(n,!1);t((function(t){var c=t.versions[e];if(void 0!==c){var a=t.versions[r];void 0!==a&&(a.schedule=Object(Sn.a)(c.schedule))}else W(new B({message:"cloneVersion called with current version name that doesn't exist; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),id:e,versionCount:Object.keys(t.versions).length,newName:n}}))}))}),[t,a]);return{addNewVersion:a,deleteVersion:s,renameVersion:i,cloneVersion:o}}({updateTermScheduleData:j,setVersion:s,currentVersion:a}),x=O.addNewVersion,g=O.deleteVersion,y=O.renameVersion,w=O.cloneVersion,C=Object(r.useMemo)((function(){return[Object(d.a)({term:n,oscar:i,currentVersion:a,allVersionNames:p},Object(Sn.a)(o.schedule)),{setTerm:c,patchSchedule:v,updateSchedule:h,setCurrentVersion:s,addNewVersion:x,deleteVersion:g,renameVersion:y,cloneVersion:w}]}),[n,i,a,p,o.schedule,c,v,h,s,x,g,y,w]);return Object(G.jsx)(xe.Provider,{value:t,children:Object(G.jsx)(Ie.Provider,{value:C,children:Object(G.jsx)(Pt.Provider,{value:b,children:f})})})}var jr="theme";n(335);function br(){var e,t=function(){var e=Object(Fn.a)(jr,(function(){var e=Bn.a.get(jr);return void 0!==e?e:"dark"})),t=Object(m.a)(e,2),n=t[0],c=t[1],a=function(e){switch(e){case"light":case"dark":return!0;default:return!1}}(n)?n:"dark";return Object(r.useEffect)((function(){n!==a&&c(a)}),[n,a,c]),Object(r.useMemo)((function(){return[a,c]}),[a,c])}();return e=t[0],Object(r.useLayoutEffect)((function(){var t;return"string"===typeof e?document.body.classList.add(e):(t=document.body.classList).add.apply(t,Object(h.a)(e)),function(){var t;"string"===typeof e?document.body.classList.remove(e):(t=document.body.classList).remove.apply(t,Object(h.a)(e))}}),[e]),Object(G.jsx)(Oe.Provider,{value:t,children:Object(G.jsx)(fr,{children:Object(G.jsxs)(bn,{fallback:function(e,t){return Object(G.jsx)(Mn,{children:Object(G.jsxs)(In,{children:[Object(G.jsx)(xn,{}),Object(G.jsxs)(On,{errorDetails:Object(G.jsx)(hn,{error:e,errorInfo:t}),children:[Object(G.jsx)("div",{children:"There was en error somewhere in the core application logic and it can't continue."}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})})},children:[Object(G.jsx)(wn,{children:Object(G.jsx)(lr,{children:Object(G.jsx)(An,{})})}),Object(G.jsx)(dn,{})]})})})}function fr(e){var t=e.children,n=!mt(D);return Object(G.jsx)("div",{className:X("App",n&&"mobile"),children:t})}n(336),n(337);console.log("Initializing Sentry"),i.a({dsn:"https://8955ef982197469e97c7644a8c090db1@o552970.ingest.sentry.io/5679614",integrations:[new o.a.BrowserTracing],tracesSampleRate:1,ignoreErrors:["ResizeObserver loop limit exceeded"],release:"9b67b0f2148b04e1aa60b96e8f8823133787df11"}),s.a.render(Object(G.jsx)(br,{}),document.getElementById("root"))}},[[338,1,2]]]);
//# sourceMappingURL=main.5089770f.chunk.js.map